YUI.add("samplr",function(e){var t=1e3;e.Samplr=function(e){this.seed=e||Math.round(Math.random()*t)},e.Samplr.prototype.isInSample=function(e){return this.seed<=Math.round(e*t)?!0:!1}},"@VERSION@",{requires:["app-context"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.16.0",{requires:["io-base","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){this._originalFormAttrs={action:t.getAttribute("action"),target:t.getAttribute("target")},t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u;return s._setAttrs(o,t.id,n),i.data&&(u=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,u),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t){var n,i;return t&&(n=t.form,n&&n.upload&&(i=this,n=typeof n.id=="string"?r.getElementById(n.id):n.id,n&&i._resetAttrs(n,this._originalFormAttrs))),o.call(this,e,t)}},!0)},"3.16.0",{requires:["io-base","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.16.0",{requires:["io-base","queue-promote"]});
YUI.add("rrd",function(e){"use strict";function n(n,r){if(!e.Lang.isString(r)){e.Flog.error("RRD beacon URL missing");return}if(!n)return;if(!t||!t.location||t.location.host!==e.config.flickr.url.host)return;e.io(r,{method:"GET",data:n,timeout:1e4,on:{end:function(){}}})}var t=e.config.win;e.RRD={queue:n}},"@VERSION@",{requires:["querystring-stringify","io"],affinity:"client"});
YUI.add("flickr-client-metrics",function(e){"use strict";function s(n){var r=1,s=t.appContext.getViewer().signedIn;return e.config&&e.config.flickr&&e.config.flickr.client_metrics_samples&&(r=e.config.flickr.client_metrics_samples["default"],e.config.flickr.client_metrics_samples[n]&&(r=typeof e.config.flickr.client_metrics_samples[n]=="object"?e.config.flickr.client_metrics_samples[n][s?"signedIn":"signedOut"]:e.config.flickr.client_metrics_samples[n])),i.isInSample(r)}function o(){var i=0,u={},a,f,l,c;if(!t.performance||!t.performance.timing||!t.pageTiming)return;t.pageTiming.timeToFirstPhoto===-1||!t.performance.timing.loadEventEnd||!t.appContext||!t.appContext.flapp?i<100&&(i++,setTimeout(o,100)):(f=t.appContext.flapp.get("activeView"),n=t.appContext.getViewer().signedIn,a=t.performance.timing,c=t.pageTiming,f?f&&f.name&&(u.timing_pageid=t.appContext.flapp.get("activeView").name.replace(/-/g,"_")+"_coldstart",l=t.appContext.flapp.get("activeView").name.replace(/-/g,"_")):(u.timing_pageid="photo_page_view_coldstart",l="photo_page_view"),s(l)&&(u.page_start=a.responseStart,u.page_generation=t.pageGenEnd-t.pageGenStart,u.js_done=c.jsDone,u.time_to_first_photo=c.timeToFirstPhoto,u.window_load=a.loadEventEnd,u.dom_ready=a.domInteractive,u.is_logged_in=n,e.config.flickr.pathogen&&(u.pathogen=1),e.RRD.queue(u,r)))}function u(){}var t=e.config.win,n=!1,r="/beacon_page_timings.gne",i=new e.Samplr;t&&(t.sessionStart=(new Date).getTime()),e.FlickrClientMetrics=function(t){this.appContext=t,this.activeViewChanges=0,this.pendingMarks=[],this.hasPendingMarks=!1,this.isPending=!1,this.data={},this.url=e.config.win.location.href,this.publish("beacon"),this.publish("page_start"),this.publish("js_done"),this.publish("mark"),this.publish("record"),this.publish("abort")},e.FlickrClientMetrics.gatherColdStartData=o,e.FlickrClientMetrics.gatherPaftData=u,e.FlickrClientMetrics.isInSample=s,e.FlickrClientMetrics.prototype={setPendingMark:function(t){var n=this,r=new e.Promise(t);return this.hasPendingMarks=!0,r.then(function(e){typeof e=="string"&&n.mark(e)},function(t){e.Flog&&e.Flog.warn("ClientMetrics: Unable to set pending mark: ",t)}),this.pendingMarks.push(r),r},_handlePendingMarkSuccess:function(e){this.hasPendingMarks=!1,this.pendingMarks=[],Object.keys(this.data).length>0&&this.beacon()},_handlePendingMarkFailure:function(e){this.hasPendingMarks=!1,this.pendingMarks=[],this.data={},this.fire("abort")},beaconLater:function(){if(this.hasPendingMarks)return e.Promise.all(this.pendingMarks).then(this._handlePendingMarkSuccess.bind(this),this._handlePendingMarkFailure.bind(this));this.beacon()},getTimestamp:function(){return(new Date).getTime()},mark:function(e){return this.data[e]=this.getTimestamp(),this.fire("mark",{markName:e}),!0},markStart:function(e,t){t&&typeof t=="object"?t.markName=e:t={markName:e},this.fire("mark_start",t)},markEnd:function(e,t){t&&typeof t=="object"?t.markName=e:t={markName:e},this.fire("mark_end",t)},start:function(e){this.isPending=!0,this.url=e,this.data={},this.data.page_start=this.getTimestamp(),this.fire("page_start")},record:function(e,t){return this.data[e]=t,this.fire("record",{markName:e,timestamp:t}),!0},end:function(){var t=this.getTimestamp();if(!this.isPending){e.Flog&&e.Flog.warn("ClientMetrics: Calling `end` without calling `start`");return}this.data.dom_ready=t,this.data.js_done=t,this.data.page_generation=t-this.data.page_start,this.activeViewChanges++,this.data.active_view_changes=this.activeViewChanges,this.isPending=!1,this.fire("js_done"),this.beacon()},beacon:function(){var t=0,n,i;return e.config.win.location.href!==this.url?(this.fire("abort"),-1):this.isPending||this.hasPendingMarks?-1:Object.keys(this.data).length<1?(e.Flog&&e.Flog.warn("ClientMetrics: Trying to beacon with no data"),-1):(n=this.appContext.flapp.get("activeView"),i=n.name.replace(/-/g,"_"),this.data.timing_pageid=i+"_inpage",this.data.is_logged_in=this.appContext.getViewer().signedIn,this.data.spaceid=n.get("spaceid"),e.config.flickr.pathogen&&(this.data.pathogen=1),this.fire("beacon",{data:this.data}),s(i)&&(e.RRD.queue(this.data,r),t=1),this.data={},t)}},e.augment(e.FlickrClientMetrics,e.EventTarget,!0,null,{prefix:"metrics"})},"@VERSION@",{requires:["samplr","event-custom","flickr-promise","rrd"],affinity:"client"});
YUI.add("client-transport",function(e){"use strict";function l(e){var n;if(e.data.photo_id&&u.photos[e.data.photo_id]){for(n in u.photos[e.data.photo_id])t.unset(n);delete u.photos[e.data.photo_id]}if(e.data.user_id&&u.users[e.data.user_id]){for(n in u.users[e.data.user_id])t.unset(n);delete u.users[e.data.user_id]}}function c(e,t){var n;while(n=s.exec(t))u.photos[n[1]]||(u.photos[n[1]]={}),u.photos[n[1]][e]=e;while(n=o.exec(t))u.users[n[1]]||(u.users[n[1]]={}),u.users[n[1]][e]=e}function h(){var t="/hermes_error_beacon.gne";return new e.Promise(function(n,i){e.io(t,{method:"GET",timeout:r,on:{complete:function(e,t){var r;try{r=JSON.parse(t.responseText)||{}}catch(s){return i({status:0,message:"invalid JSON in response",resp:t})}if(!r.site_key)return i({status:0,message:"invalid JSON content, no site_key found",resp:t});n(r)}}})})}function p(t){var n={flickr:!0,data:{method:"flickr.site.getCsrf"}},r=t.api_url+t.base_url,i=this;return new e.Promise(function(e,t){this.resolve=function(t){e({token:t.token._content})},this.reject=t,m.call(i,r,n,this)})}function d(e,t){return v.call(this,e,t)}function v(t,n,r){var i,s=this;return i=function(){var o;return s.keys.siteKey.isExpired()?(o=s.keys.siteKey.fetch(),o=o.then(i),o):s.keys.csrf.isExpired()?(o=s.keys.csrf.fetch(),o=o.then(i),o):r?(m.call(s,t,n,r,v),r):new e.Promise(function(e,r){this.resolve=e,this.reject=r,m.call(s,t,n,this,v)})},i()}function m(n,s,o,u){var h,p,d,v,m=this,g,y,b,w;v=Math.round(Math.random()*1e11).toString(36),s=s||{},s.data=s.data||{},s.data.csrf=this.keys.csrf.getKey(),s.data.api_key=this.keys.siteKey.getKey(),s.method=s.method||"GET",s.data.format="json",s.data.hermes=1,s.data.hermesClient=1,s.data.reqId=v,h=n,d=h+JSON.stringify(s.data),s.data.method&&s.data.method.match(a)&&(s.method="POST",l(s)),p=t.get(d);if(p)return e.when(p,o.resolve);s.data.nojsoncallback=1,this._authRetry=this._authRetry||0,this._authRetry++,g=(new Date).getTime(),y=s.data.method,b=s.data,w={method:s.method,data:s.data,timeout:s.timeout||r,xdr:{use:"native",credentials:!0},on:{complete:function(r,a){var l={},h=f.exclude[s.data.method]===!0,p=f.include[s.data.method]!==!1,w=(new Date).getTime();l.reqId=v;if(a.status===404){o.resolve({status:404}),l.apiMethod=y,e.fire("client-transport:apiError",l);return}if(a.status===0){o.reject({status:0,resp:a,message:"XHR error"}),l.apiMethod=y,e.fire("client-transport:apiError",l);return}try{l=JSON.parse(a.responseText)||{}}catch(E){o.reject({status:0,message:"invalid JSON in response",resp:a}),l.apiMethod=y,e.fire("client-transport:apiError",l);return}if(l.stat!=="ok"){l.code=Number(l.code);if(u&&[98,99,100].indexOf(l.code)>=0&&m._authRetry<i){l.code===98&&m.keys.csrf.invalidate(g),m.keys.siteKey.invalidate(g),u.call(m,n,s,o);return}return l.apiMethod=y,e.fire("client-transport:apiError",l),y==="flickr.site.getCsrf"?o.reject(l):o.resolve(l)}e.soon(function(){e.fire("client-transport:apiTime",{start:g,end:w,method:b.method})}),m._authRetry=0,o.resolve(l);if(s.method!=="GET")return;p&&!h&&(c(d,a.responseText),t.set(d,l))},start:function(){},end:function(){},failure:function(t,n){e.soon(function(){n.apiMethod=y,n.reqId=v,n.transportFailure=!0,e.fire("client-transport:apiError",n)}),o.reject(n)}}},e.io(h,w)}var t=e.betterCache,n,r=3e4,i=10,s=/"id":"([0-9]+)"/g,o=/"nsid":"([0-9]+@N[0-9]+)"/g,u={photos:{},users:{}},a=new RegExp(e.config.flickr.api.write_api_method_regex),f={include:{"flickr.sharing.getServiceTypes":!0},exclude:{"flickr.sharing.getServices":!0,"flickr.sharing.canShare":!0,"flickr.sharing.getAuthorizeUrl":!0,"flickr.products.orders.getOrder":!0,"flickr.products.orders.applyCoupon":!0}};YUI.F=YUI.F||{},YUI.F.jsonCallbacks={},e.ClientTransport=n=function(){this.keys=n._keys},n._keys={csrf:null,siteKey:null},n.authorize=function(t){n._keys.siteKey=new e.SiteKey(null,t.flickrAPI),n._keys.siteKey.scheduleFutureFetch(),n._keys.csrf=new e.CsrfUpdater(t.flickrAPI),n._keys.csrf.scheduleFutureFetch()},e.ClientTransport.prototype={makeRequest:d,makeSiteKeyRequest:h,makeCsrfRequest:p}},"@VERSION@",{requires:["querystring-stringify","better-cache","io-xdr","site-key","csrf-updater","flickr-client-metrics","flickr-promise","flog"],affinity:"client"});
YUI.add("page-title-helper",function(e){e.pageTitleHelper=function(t){var n="Flickr - Photo Sharing!";return e.Lang.isString(t)&&(t=t.trim(),t&&(n=t+" | "+n)),n}},"@VERSION@",{requires:[]});
YUI.add("flickr-route",function(e){e.Routes=e.Routes||{},e.FlickrRoute=function(e){this.appContext=e},e.FlickrRoute.prototype={run:function(){},displayServerErrorOrClientRedirect:function(t,n,r){return YUI.Env.isServer?this.displayRouteErrors(t,new e.RouteError(404,n)):e.Promise.resolve({redirect:r||t.url})},detectRouteErrors:function(){var t=e.Array(arguments);return t.filter(function(t,n){return t instanceof e.RouteError}).sort(function(e,t){return e.type-t.type})},displayRouteErrors:function(t,n){var r=e.Lang.isArray(n)?n[0]:n;return e.Promise.resolve(this["display"+r.type+"Error"](t,r))},display500Error:function(t,n){var r,i,s;r={view:"error-500-page-view",params:{},headers:{statusCode:500},layout:"maximized"};if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)r.params.source="flickrRoute#display500Error",r.params.message=n.message;return t.idShort&&(r.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.idShort),n&&(YUI.Env.isServer&&n.type==="SiteAuth"?(e.fletrics.increment("siteauth.failures"),this.appContext.error("[site auth]",n.message),n.redirect?(i=t.normalizedProtocol+"://"+t.headers.host+t.originalUrl,s=e.url("/siteauth/?redirect_url="+encodeURIComponent(i)),this.appContext.debug("Redirecting to siteauth "+(YUI.Env.onManhattan?"onManhattan":"notOnManhattan")),YUI.Env.onManhattan||(s+="&dev=1"),r={redirect:s}):r.params.siteAuthFailure=!0):(e.fletrics.increment("page.failures"),this.appContext.error("Unexpected error occurred while routing. Error:",n.message))),typeof r.redirect=="undefined"?e.Flog.debug({isRequest:!0,req:t},"[render]","[500]",n.message,t.url):e.Flog.debug({isRequest:!0,req:t},"[redirect]","[302]",t.url," -> ",r.redirect),r},display303Error:function(e,t){return{redirect:t.options.redirect,headers:{statusCode:303}}},display403Error:function(t,n){var r;n=n||{},r={view:"error-403-page-view",params:{},headers:{statusCode:403},layout:"maximized"};if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)r.params.source="flickrRoute#display403Error",r.params.message=n.message;return t.idShort&&(r.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.idShort),r},display404Error:function(t,n){var r;n=n||{},r={view:"error-404-page-view",params:{},headers:{statusCode:404},layout:"maximized"},e.Flog.debug({isRequest:!0,req:t},"[render]","[404]",n.message,t.url);if(e.config.flickr.error.show_debugging_info||t.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)r.params.source="flickrRoute#display404Error",r.params.message=n.message;return t.idShort&&(r.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.idShort),r}},e.RouteError=function(e,t,n){this.type=e,this.message=t,this.options=n}},"@VERSION@",{requires:["flickr-promise","moment","fletrics","flog","url"]});
YUI.add("flickr-router",function(e){var t,n,r;r="scrolling",e.FlickrRouter=function(e,n){return this.app=e,YUI.Env.isServer?(this.route=e.get.bind(e),this.render=t.server.bind(this)):(this.route=e.route.bind(e),this.render=t.client.bind(this)),this.setupRoutes(n),YUI.Env.isServer&&this.setup404FallThroughRoute(),this},e.FlickrRouter.prototype={setupRoutes:function(e){var t,n,r,i,s;YUI.Env.isServer&&this.app.param(function(e,t){if(t instanceof RegExp)return function(n,r,i,s){var o;(o=t.exec(String(s)))?(n.params[e]=o[0],i()):i("route")}});for(r in e.patterns)this.app.param(r,new RegExp(e.patterns[r]));for(t=0;t<e.routes.length;t++){i=e.routes[t];if(i.path instanceof Array)for(n=0;n<i.path.length;n++){s={};for(r in i)r!=="path"&&(s[r]=i[r]);s.path=i.path[n],this.registerRoute(s)}else this.registerRoute(i)}},registerRoute:function(t){var r=this;this.route(t.path,function(t,n,r){!YUI.Env.isServer&&e.Flog&&e.Flog.time("[Routing to Activation]"),r()},n.contextualize.bind(r),n.normalizePathParams.bind(r),function(e,i,s){return n.bounceRoute(e,i,s,t,r)},function(e,r,i){return n.checkOptIn(e,r,i,t)},function(e,r,i){return n.checkAndKick(e,r,i,t)},function(e,r,i){return n.checkAndInterstitial(e,r,i,t)},function(e,n,i){r._processRequest(t,e,n,i)})},setup404FallThroughRoute:function(){var t=this;this.route("*",n.contextualize.bind(t),function(n,r){var i,s;s=new e.FlickrRoute(n.appContext),i=s.display404Error(n,{message:"No matching routes, fall through to 404 handler"}),t.render(n,r,i),n.appContext.debug("[router]","failed to match to a route, fall through to 404 handler",n.normalizedProtocol+"://"+n.get("host")+n.url,n.headers&&n.headers.via?n.headers.via:""),e.fletrics.increment("router.fallthroughs")}),this.app.routes.get[this.app.routes.get.length-1].affinity="server"},_processRequest:function(t,n,r,i){var s=this;n.transactionId=e.guid(),this.currentTransactionId=n.transactionId,n.appContext.startTime=Date.now(),n.appContext.getRoute(t.module).then(function(i){var o,u,a;s.executingRoute=i,YUI.Env.isServer&&!t.skipAuth?o=YUI.Env.server.siteAuth.authenticate(n,r):o=e.when(null);if(!YUI.Env.isServer)for(a in n.params)n.params[a]=n.params[a][0];return u={id:n.id,idShort:n.idShort,isInsecureGod:n.isInsecureGod,cookies:n.cookies,headers:n.headers,params:n.params,url:n.url.toString(),query:n.query,buckets:n.buckets,lang:n.lang,probableUser:n.probableUser},n.isGod&&(u.isGod=n.isGod),e.Promise.all([o,i.run(u,r)])}).then(function(e){return e.length>=2&&(n.appContext.initialView=e[1].view),s._renderView(e,n,r,i)}).then(null,function(e){return s._throwError.call(s,e,n,r,i)})},_renderView:function(t,n,i){var s=t.length>0?t[0]:null,o=t.length>1?t[1]:null,u;if(!o)throw new Error("Invalid viewConfig");if(s){s.signedIn&&s.user&&s.user.username?n.appContext.debug("[site auth]","["+s.user.nsid+"]",s.user.username._content+" is signed in."):n.appContext.debug("[site auth] user is signed out.");if(s.signedIn&&s.user)for(u in s.user)typeof YUI.Env.config.auth["whitelisted_keys"][u]=="undefined"&&delete s.user[u];s.isInsecureGod=n.isInsecureGod,n.appContext.auth=s}return o&&typeof o.params!="undefined"&&(YUI.Env.isServer?o.params.isOwner=s&&s.signedIn&&s.user&&s.user.nsid===o.params.nsid:o.params.isOwner=n.appContext.getViewer().signedIn&&n.appContext.getViewer().nsid===o.params.nsid),o.redirect?this.render(n,i,o):(o.layout=o.layout||r,o.title=e.pageTitleHelper(o.title),this.render(n,i,o))},_throwError:function(e,t,n,r){var i,s=this;try{i=s.executingRoute.display500Error(t,e),s.render(t,n,i)}catch(o){var u=o;typeof s.executingRoute=="undefined"&&(u=e),YUI.Env.isServer?r(u):console.log(e,e.stack)}}},t={server:function(t,n,r){var i,s,o,u;if(!r)throw new Error("No view config provide to serverside renderer.");r.className="html-"+r.view,r.fluid&&(r.className+=" fluid"),r&&r.view&&["home-page-view","photo-page-view","photo-page-lightbox-view","photo-page-scrappy-view","photo-page-lightbox-scrappy-view","search-photos-page-view","search-groups-page-view","search-people-page-view","advanced-search-page-view","books-view","books-cover-view","books-spread-view","products-order-view","products-order-shipping-view","products-order-payment-view","products-order-complete-view","subscriptions-order-view","subscriptions-order-payment-view","subscriptions-order-complete-view"].indexOf(r.view)!==-1&&(o="page."+r.view.replace(/\-/g,".")+".requests",e.fletrics.increment(o)),r.headers&&r.headers.statusCode&&n.status(r.headers.statusCode);if(r.redirect){n.redirect(r.redirect);return}if(r.json){n.send(r.json);return}s=t.appContext.modelImportExport.exportAll(),u=e.mix({langBundles:["misc"],appContext:t.appContext},e.Localizable),i={viewName:r.view,viewParams:r.params,modelExport:s,modelRegistries:Object.keys(s),appContext:t.appContext,response:n,title:r.title,className:r.className,language:t.lang.toLowerCase(),layout:r.layout,clientAppErrorMessage:{oopsMsgTitle:u.intlMessage({intlName:"misc.OOPS"}),oopsMsgMain:u.intlMessage({intlName:"misc.LOADING_ERROR"}),oopsMsgFooter:u.intlMessage({intlName:"misc.REFRESH"})}},n.expose(t.appContext.auth,"window.auth"),n.expose(t.idShort,"window.reqId"),n.expose(t.appContext.pageGenStart,"window.pageGenStart"),n.expose((new Date).getTime(),"window.pageGenEnd"),n.expose(t.lang,"window.YUI_config.lang"),n.on("finish",function(){var n,i;t.latencyTimerStart&&(n=process.hrtime(t.latencyTimerStart),n&&(i=(n[0]*1e9+n[1])/1e6,t.appContext.debug("[res]","view="+r.view,"latency="+i),r&&r.view&&["photo-page-view","photo-page-lightbox-view","photo-page-scrappy-view","photo-page-lightbox-scrappy-view"].indexOf(r.view)!==-1&&(o="page."+r.view.replace(/\-/g,".")+".latency",e.fletrics.set(o,i))))}),n.render(r.view,i)},client:function(t,n,r){var i=this,s;if(r.redirect){window.location=r.redirect;return}document.title=r.title,e.loaderBar.progress(),t.appContext.getView(r.view,r.params,r.layout).then(function(n){return e.loaderBar.progress(),s=n,s._params.keyEventScope=s.name+s._yuid,t.appContext.getKeyboardManager().setCurrentKeyEventScope
(s.name+s._yuid),s.initialize()}).then(function(){var n,o;e.loaderBar.progress(),n=e.one("html"),o=n.get("className").trim(),o=o.replace(/html-[\S]+-view/,"html-"+r.view),o=o.replace(/[\S]+-layout/,r.layout+"-layout"),o=o.replace("fluid",""),o+=r.fluid?" fluid":"",n.set("className",o),t.transactionId===i.currentTransactionId&&(i.app.showView(s,null,{render:!0,callback:function(n){e.loaderBar.finish(),t.src!=="popstate"&&window.scroll(0,0)}}),!YUI.Env.isServer&&e.Flog&&e.Flog.timeEnd("[Routing to Activation]"))}).then(null,function(e){t.appContext.fatal("Client render had an error:",e.message,e.stack)})}},n={checkAndKick:function(e,t,n,r){if(YUI.Env.isServer){YUI.Env.server.bucketOptOut.checkAndKick(e,t,n,r);return}n()},checkAndInterstitial:function(e,t,n,r){var i,s;if(YUI.Env.isServer&&e.appContext.flipper.isFlipped("browser-upgrade-interstitial")){i=YUI.Env.parseUA(e.headers["user-agent"]),s=e.get("referer")?e.get("referer"):"";if(i.ie&&i.ie<=9&&e.url.indexOf("/browser/upgrade/")===-1&&s.indexOf("/browser/upgrade/")===-1)return t.redirect("/browser/upgrade/?continue="+e.url)}n()},bounceRoute:function(t,n,r,i,s){var o;if(YUI.Env.isServer&&YUI.Env.onManhattan&&["gin.flickr.com","gin-flickr.com","staging.gin.flickr.com","staging-gin.flickr.com","smoke.gin.flickr.com","smoke-gin.flickr.com","dev.gin.flickr.com","dev-gin.flickr.com","dev2.gin.flickr.com","dev2-gin.flickr.com","perf.gin.flickr.com","perf-gin.flickr.com","perf2.gin.flickr.com","perf2-gin.flickr.com","spike.gin.flickr.com","spike-gin.flickr.com","qa.gin.flickr.com","qa-gin.flickr.com"].indexOf(t.headers.host)===-1&&!/user-[a-z]+.dev.gin.flickr.com/i.test(t.headers.host)&&!/[a-z0-9]+.dev.gin.flickr.com/i.test(t.headers.host)&&typeof i.optin=="undefined"&&(typeof i.public=="undefined"||!i.public)){t.appContext.error("[opt-in] no opt-in specified for "+i.module+" but we are not on gin.flickr.com or dev.gin.flickr.com, showing error page..."),o={view:"error-500-page-view",params:{},layout:"maximized"};if(e.config.flickr.error.show_debugging_info||t.isInsecureGod)o.params.source="flickrRouter#bounceRoute",o.params.message="[opt-in] no opt-in specified for "+i.module+" but we are not on gin.flickr.com or dev.gin.flickr.com, showing error page...";return t.idShort&&(o.params.requestID=e.moment().format("YYYY-MM-DD")+"-"+t.idShort),s.render(t,n,o)}r()},checkOptIn:function(t,n,r,i){var s,o;if(YUI.Env.isServer&&i.optin&&(!t.optins||t.optins.length===0||t.optins.indexOf(i.optin)===-1)){t.appContext.error("[opt-in] "+i.optin+" required for "+i.module+" but user has not opt-ed in to it, bouncing..."),s="https://"+t.headers.host+t.originalUrl,o=e.url(YUI.Env.config.optin.redirect_url+"?redirect_url="+encodeURIComponent(s)),YUI.Env.onManhattan||(o+="&dev=1"),n.redirect(o);return}r()},contextualize:function(t,n,r){YUI.Env.isServer?e.use("app-context",function(e){t.appContext=new e.AppContext({request:t}),t.appContext.pageGenStart=(new Date).getTime(),r()}):"appContext"in window&&(t.appContext=window.appContext,r())},normalizePathParams:function(e,t,n){YUI.Env.isServer||e.params instanceof Array&&e.params.shift(),n()}}},"@VERSION@",{requires:["fletrics","flog","oop","page-title-helper","moment","flickr-route","localizable","url"],langBundles:["misc"]});
YUI.add("hermes-lang-misc",function(e,t){e.Intl.add("hermes/misc","en-US",{ERROR:["Error!"],LOADING:["Loading"],DEFAULT_PAGE_TITLE:["Flickr - Photo Sharing!"],FLICKR:["Flickr"],OOPS:["Oops!"],LOADING_ERROR:["An issue occurred while loading."],REFRESH:["Please refresh the page."]})},"@VERSION@",{requires:["intl"]});
YUI.add("flickr-api-metrics",function(e){"use strict";var t=e.config.win,n="/beacon_client_api_timings.gne",r=new e.Samplr;e.FlickrAPIMetrics=function(){this.apiTimes=[];var i,s=this;e.config.flickr.client_metrics_samples&&e.config.flickr.client_metrics_samples.api_timings?i=r.isInSample(e.config.flickr.client_metrics_samples.api_timings):i=!0,i&&(e.on("client-transport:apiTime",function(e){s.beaconApiTiming(e)}),e.on("client-transport:apiError",function(r){var i={};r.apiMethod&&(i.m=r.apiMethod),r.reqId&&(i.reqId=r.reqId),r&&r.code?(i.e=r.code,t&&(i.a=(new Date).getTime()-t.sessionStart),e.RRD.queue(i,n)):r&&r.statusText==="timeout"&&(i.timeout=!0,e.config.flickr.api.hostname_client_https&&(i.api=e.config.flickr.api.hostname_client_https.replace(/https:\/\/|\//g,"")),e.RRD.queue(i,n))}),e.on("csrf:goodkey",function(r){e.RRD.queue({e:"goodcsrf",a:(new Date).getTime()-t.sessionStart},n)}),e.on("site-key:badkey",function(r){e.RRD.queue({e:"badsitekey",a:(new Date).getTime()-t.sessionStart},n)}),e.on("site-key:goodkey",function(r){e.RRD.queue({e:"goodsitekey",a:(new Date).getTime()-t.sessionStart},n)}))},e.FlickrAPIMetrics.prototype={beaconApiTiming:function(t){var i=this;if(e.config.flickr.client_metrics_samples&&e.config.flickr.client_metrics_samples.api_timings!=="undefined"){this.apiSample=r.isInSample(e.config.flickr.client_metrics_samples.api_timings);if(!this.apiSample)return}else this.apiSample=!0;this.apiTimes.push(t),this.beaconTimer&&clearTimeout(this.beaconTimer),this.beaconTimer=setTimeout(function(){var t,r,s;if(i.apiTimes.length<1)return;r="",s=[];for(t=i.apiTimes.length-1;t>=0;t--)s.push(i.apiTimes[t].method+";"+(i.apiTimes[t].end-i.apiTimes[t].start));r=s.join(":"),e.RRD.queue({d:r},n),i.apiTimes=[]},1e3)}}},"@VERSION@",{requires:["samplr","rrd"],affinity:"client"});
YUI.add("comscore",function(e,t){function n(e){var t="comScore=",n=document,r=n.cookie,i="",s="indexOf",o="substring",u="length",a=2048,f,l="&ns_",c="&",h,p,d,v,m=window,g=m.encodeURIComponent||escape;if(r[s](t)+1)for(d=0,p=r.split(";"),v=p[u];d<v;d++)h=p[d][s](t),h+1&&(i=c+unescape(p[d][o](h+t[u])));e+=l+"_t="+ +(new Date)+l+"c="+(n.characterSet||n.defaultCharset||"")+i,e[u]>a&&e[s](c)>0&&(f=e[o](0,a-8).lastIndexOf(c),e=(e[o](0,f)+l+"cut="+g(e[o](f+1)))[o](0,a)),n.images?(h=new Image,m.ns_p||(ns_p=h),h.src=e):n.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}typeof _comscore=="undefined"&&(_comscore=[]),function(){var e="length",t=self,r=t.encodeURIComponent?encodeURIComponent:escape,i=".scorecardresearch.com",s=Math,o="script",u="width",a=/c2=(\d*)&/,f,l=function(t){if(!!t){var s,o=[],u,a=0,f,l,c="";for(var h in t){u=typeof t[h];if(u=="string"||u=="number")o[o[e]]=h+"="+r(t[h]),h=="c2"?c=t[h]:h=="c1"&&(a=1)}if(o[e]<=0||c=="")return;l=t.options||{},l.d=l.d||document;if(typeof l.url_append=="string"){f=l.url_append.replace(/&amp;/,"&").split("&");for(var h=0,p=f[e],v;h<p;h++)v=f[h].split("="),v[e]==2&&(o[o[e]]=v[0]+"="+r(v[1]))}s=["http",l.d.URL.charAt(4)=="s"?"s://sb":"://b",i,"/p?",a?"":"c1=2&",o.join("&").replace(/&$/,"")],n(s.join(""))}},c=function(t){t=t||_comscore;for(var n=0,r=t[e];n<r;n++)l(t[n]);t=_comscore=[]};c(),(f=t.COMSCORE)?(f.purge=c,f.beacon=l):COMSCORE={purge:c,beacon:l}}(),e.comscore=COMSCORE},"@VERSION@",{affinity:"client"});
YUI.add("loader-bar",function(e){var t=YUI.Env.isServer,n=null;if(t){e.loaderBar={start:function(){},progress:function(){},finish:function(){}};return}e.use("node","dom",function(e){function o(){i=!0,n||(n=e.Node.create('<div class="loader-bar">'),e.one("body").append(n)),n.setStyle("width","100px"),n.setStyle("display","block"),t=n.get("offsetWidth"),r=setInterval(function(){t=n.get("offsetWidth"),t>=window.innerWidth-5&&(n.setStyle("display","none"),clearInterval(r))},100)}var t=0,r,i=!1,s;e.loaderBar={start:function(){clearTimeout(s),s=setTimeout(o,60)},progress:function(){if(!i)return;t+=Math.round(window.innerWidth*Math.random()*.5),n.setStyle("width",t+"px")},finish:function(){clearTimeout(s);if(!i)return;n.setStyle("width",window.innerWidth+"px")}}})},"@VERSION@",{requires:[]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.16.0",{requires:["pluginhost-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-pluginhost",function(e,t){e.Node.plug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.plug.apply(e.Base,t),e.Node},e.Node.unplug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.unplug.apply(e.Base,t),e.Node},e.mix(e.Node,e.Plugin.Host,!1,null,1),e.Object.each(e.Node._instances,function(t){e.Plugin.Host.apply(t)}),e.NodeList.prototype.plug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.plug.apply(e.one(n),t)}),this},e.NodeList.prototype.unplug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.unplug.apply(e.one(n),t)}),this}},"3.16.0",{requires:["node-base","pluginhost"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dom-screen",function(e,t){(function(e){var t="documentElement",n="compatMode",r="position",i="fixed",s="relative",o="left",u="top",a="BackCompat",f="medium",l="borderLeftWidth",c="borderTopWidth",h="getBoundingClientRect",p="getComputedStyle",d=e.DOM,v=/^t(?:able|d|h)$/i,m;e.UA.ie&&(e.config.doc[n]!=="BackCompat"?m=t:m="body"),e.mix(d,{winHeight:function(e){var t=d._getWinSize(e).height;return t},winWidth:function(e){var t=d._getWinSize(e).width;return t},docHeight:function(e){var t=d._getDocSize(e).height;return Math.max(t,d._getWinSize(e).height)},docWidth:function(e){var t=d._getDocSize(e).width;return Math.max(t,d._getWinSize(e).width)},docScrollX:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageXOffset:0;return Math.max(r[t].scrollLeft,r.body.scrollLeft,s)},docScrollY:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageYOffset:0;return Math.max(r[t].scrollTop,r.body.scrollTop,s)},getXY:function(){return e.config.doc[t][h]?function(r){var i=null,s,o,u,f,l,c,p,v,g,y;if(r&&r.tagName){p=r.ownerDocument,u=p[n],u!==a?y=p[t]:y=p.body,y.contains?g=y.contains(r):g=e.DOM.contains(y,r);if(g){v=p.defaultView,v&&"pageXOffset"in v?(s=v.pageXOffset,o=v.pageYOffset):(s=m?p[m].scrollLeft:d.docScrollX(r,p),o=m?p[m].scrollTop:d.docScrollY(r,p)),e.UA.ie&&(!p.documentMode||p.documentMode<8||u===a)&&(l=y.clientLeft,c=y.clientTop),f=r[h](),i=[f.left,f.top];if(l||c)i[0]-=l,i[1]-=c;if(o||s)if(!e.UA.ios||e.UA.ios>=4.2)i[0]+=s,i[1]+=o}else i=d._getOffset(r)}return i}:function(t){var n=null,s,o,u,a,f;if(t)if(d.inDoc(t)){n=[t.offsetLeft,t.offsetTop],s=t.ownerDocument,o=t,u=e.UA.gecko||e.UA.webkit>519?!0:!1;while(o=o.offsetParent)n[0]+=o.offsetLeft,n[1]+=o.offsetTop,u&&(n=d._calcBorders(o,n));if(d.getStyle(t,r)!=i){o=t;while(o=o.parentNode){a=o.scrollTop,f=o.scrollLeft,e.UA.gecko&&d.getStyle(o,"overflow")!=="visible"&&(n=d._calcBorders(o,n));if(a||f)n[0]-=f,n[1]-=a}n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n=d._getOffset(t);return n}}(),getScrollbarWidth:e.cached(function(){var t=e.config.doc,n=t.createElement("div"),r=t.getElementsByTagName("body")[0],i=.1;return r&&(n.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",n.appendChild(t.createElement("p")).style.height="1px",r.insertBefore(n,r.firstChild),i=n.offsetWidth-n.clientWidth,r.removeChild(n)),i},null,.1),getX:function(e){return d.getXY(e)[0]},getY:function(e){return d.getXY(e)[1]},setXY:function(e,t,n){var i=d.setStyle,a,f,l,c;e&&t&&(a=d.getStyle(e,r),f=d._getOffset(e),a=="static"&&(a=s,i(e,r,a)),c=d.getXY(e),t[0]!==null&&i(e,o,t[0]-c[0]+f[0]+"px"),t[1]!==null&&i(e,u,t[1]-c[1]+f[1]+"px"),n||(l=d.getXY(e),(l[0]!==t[0]||l[1]!==t[1])&&d.setXY(e,t,!0)))},setX:function(e,t){return d.setXY(e,[t,null])},setY:function(e,t){return d.setXY(e,[null,t])},swapXY:function(e,t){var n=d.getXY(e);d.setXY(e,d.getXY(t)),d.setXY(t,n)},_calcBorders:function(t,n){var r=parseInt(d[p](t,c),10)||0,i=parseInt(d[p](t,l),10)||0;return e.UA.gecko&&v.test(t.tagName)&&(r=0,i=0),n[0]+=i,n[1]+=r,n},_getWinSize:function(r,i){i=i||r?d._getDoc(r):e.config.doc;var s=i.defaultView||i.parentWindow,o=i[n],u=s.innerHeight,a=s.innerWidth,f=i[t];return o&&!e.UA.opera&&(o!="CSS1Compat"&&(f=i.body),u=f.clientHeight,a=f.clientWidth),{height:u,width:a}},_getDocSize:function(r){var i=r?d._getDoc(r):e.config.doc,s=i[t];return i[n]!="CSS1Compat"&&(s=i.body),{height:s.scrollHeight,width:s.scrollWidth}}})})(e),function(e){var t="top",n="right",r="bottom",i="left",s=function(e,s){var o=Math.max(e[t],s[t]),u=Math.min(e[n],s[n]),a=Math.min(e[r],s[r]),f=Math.max(e[i],s[i]),l={};return l[t]=o,l[n]=u,l[r]=a,l[i]=f,l},o=e.DOM;e.mix(o,{region:function(e){var t=o.getXY(e),n=!1;return e&&t&&(n=o._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0])),n},intersect:function(u,a,f){var l=f||o.region(u),c={},h=a,p;if(h.tagName)c=o.region(h);else{if(!e.Lang.isObject(a))return!1;c=a}return p=s(c,l),{top:p[t],right:p[n],bottom:p[r],left:p[i],area:(p[r]-p[t])*(p[n]-p[i]),yoff:p[r]-p[t],xoff:p[n]-p[i],inRegion:o.inRegion(u,a,!1,f)}},inRegion:function(u,a,f,l){var c={},h=l||o.region(u),p=a,d;if(p.tagName)c=o.region(p);else{if(!e.Lang.isObject(a))return!1;c=a}return f?h[i]>=c[i]&&h[n]<=c[n]&&h[t]>=c[t]&&h[r]<=c[r]:(d=s(c,h),d[r]>=d[t]&&d[n]>=d[i]?!0:!1)},inViewportRegion:function(e,t,n){return o.inRegion(e,o.viewportRegion(e),t,n)},_getRegion:function(e,s,o,u){var a={};return a[t]=a[1]=e,a[i]=a[0]=u,a[r]=o,a[n]=s,a.width=a[n]-a[i],a.height=a[r]-a[t],a},viewportRegion:function(t){t=t||e.config.doc.documentElement;var n=!1,r,i;return t&&(r=o.docScrollX(t),i=o.docScrollY(t),n=o._getRegion(i,o.winWidth(t)+r,i+o.winHeight(t),r)),n}})}(e)},"3.16.0",{requires:["dom-base","dom-style"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-screen",function(e,t){e.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(t){e.Node.ATTRS[t]={getter:function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e.Node.getDOMNode(this)),e.DOM[t].apply(this,n)}}}),e.Node.ATTRS.scrollLeft={getter:function(){var t=e.Node.getDOMNode(this);return"scrollLeft"in t?t.scrollLeft:e.DOM.docScrollX(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollLeft"in n?n.scrollLeft=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(t,e.DOM.docScrollY(n)))}},e.Node.ATTRS.scrollTop={getter:function(){var t=e.Node.getDOMNode(this);return"scrollTop"in t?t.scrollTop:e.DOM.docScrollY(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollTop"in n?n.scrollTop=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(e.DOM.docScrollX(n),t))}},e.Node.importMethod(e.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]),e.Node.ATTRS.region={getter:function(){var t=this.getDOMNode(),n;return t&&!t.tagName&&t.nodeType===9&&(t=t.documentElement),e.DOM.isWindow(t)?n=e.DOM.viewportRegion(t):n=e.DOM.region(t),n}},e.Node.ATTRS.viewportRegion={getter:function(){return e.DOM.viewportRegion(e.Node.getDOMNode(this))}},e.Node.importMethod(e.DOM,"inViewportRegion"),e.Node.prototype.intersect=function(t,n){var r=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.intersect(r,t,n)},e.Node.prototype.inRegion=function(t,n,r){var i=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.inRegion(i,t,n,r)}},"3.16.0",{requires:["dom-screen","node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-style",function(e,t){(function(e){e.mix(e.Node.prototype,{setStyle:function(t,n){return e.DOM.setStyle(this._node,t,n),this},setStyles:function(t){return e.DOM.setStyles(this._node,t),this},getStyle:function(t){return e.DOM.getStyle(this._node,t)},getComputedStyle:function(t){return e.DOM.getComputedStyle(this._node,t)}}),e.NodeList.importMethod(e.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"])})(e);var n=e.Node;e.mix(n.prototype,{show:function(e){return e=arguments[arguments.length-1],this.toggleView(!0,e),this},_show:function(){this.removeAttribute("hidden"),this.setStyle("display","")},_isHidden:function(){return this.hasAttribute("hidden")||e.DOM.getComputedStyle(this._node,"display")==="none"},toggleView:function(e,t){return this._toggleView.apply(this,arguments),this},_toggleView:function(e,t){return t=arguments[arguments.length-1],typeof e!="boolean"&&(e=this._isHidden()?1:0),e?this._show():this._hide(),typeof t=="function"&&t.call(this),this},hide:function(e){return e=arguments[arguments.length-1],this.toggleView(!1,e),this},_hide:function(){this.setAttribute("hidden","hidden"),this.setStyle("display","none")}}),e.NodeList.importMethod(e.Node.prototype,["show","hide","toggleView"])},"3.16.0",{requires:["dom-style","node-base"]});
if(typeof YAHOO=="undefined"||!YAHOO)var YAHOO={};YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function n(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var e="richview",t="contentmodification";n.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new n("pv","pageview",""),simple:new n("lv","event","P"),linkview:new n("lv","linkview","P"),richview:new n(e,e,"R"),contentmodification:new n(e,t,"R"),dwell:new n("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function f(e,t){if(!e)return null;t===null&&(t=!1);var n=new r,i=o.getAttribute(e,o.data_action_outcome);i&&n.set("outcm",i);var s=o.getAttribute(e,"data-ylk");if(s===null||s.length===0)return n;var u=s.split(o.ylk_pair_delim);for(var a=0,f=u.length;a<f;a++){var l=u[a].split(o.ylk_kv_delim);if(l.length!==2)continue;var c=l[0],h=l[1];if(c===null||c===""||h===null)continue;h.length>o.MAX_VALUE_LENGTH&&(h=h.substring(0,o.MAX_VALUE_LENGTH)),c.length<=8&&h.length<=o.MAX_VALUE_LENGTH&&(c!=="_p"||t)&&n.set(c,h)}return n}function l(e,t,n){return e<t?t:e>n?n:e}function c(t){s.set("A_sid",YAHOO.i13n.A_SID||o.rand()),s.set("_w",o.rmProto(window.location.href).substring(0,o.MAX_VALUE_LENGTH)),t?s.absorb(t):e.keys&&s.absorb(e.keys)}function h(e){var t=YAHOO.i13n,n=YAHOO.i13n.TEST_ID||e.test_id,r=document.location+"";c(e.keys),n&&(n=o.norm(""+n));var i=300,u=700,a={version:"3.18.5",keys:s,getReferrer:function(){return o.norm(o.clref(e.referrer||document.referrer))},spaceid:o.norm(YAHOO.i13n.SPACEID||e.spaceid),yrid:o.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,ywa:e.ywa||null,ywa_dpid:null,ywa_cf_override:t.YWA_CF_MAP||{},ywa_action_map:t.YWA_ACTION_MAP||{},ywa_outcome_map:t.YWA_OUTCOME_MAP||{},fing:e.use_fing==1,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:n,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",compr_timeout:e.compr_timeout||u,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.1.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",deb:e.debug===!0,ldbg:r.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:typeof e.ult_token_capture=="boolean"?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on!==!1,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||1e3,apv_px:e.apv_px||500,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1};a.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,a.ywa&&(!a.ywa.project_id||a.ywa.project_id==0||!o.isNumeric(a.ywa.project_id))&&(m("Invalid YWA project id: null or not numeric."),a.ywa=null);var f=a.compr_timeout*1;o.isNum(f)?a.compr_timeout=l(f,i,u):a.compr_timeout=u;var h=e.click_timeout*1,p=500;return o.isNum(h)?a.click_timeout=h:a.click_timeout=p,a}function p(){s.set("A_sid",o.rand())}function d(){return"Rapid-"+w.version+"("+(new Date).getTime()+"):"}function v(e){console.warn("RAPID WARNING: "+e)}function m(e){console.error("RAPID ERROR: "+e)}function g(e){w.ldbg&&console.log(d()+e)}function y(){var e=document.cookie;this.cookieMap={};if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e)){var t=e.split(/;\s/g),n=null,r=null,i=null;for(var s=0,u=t.length;s<u;s++){i=t[s].match(/([^=]+)=/i);if(i instanceof Array)try{n=o.dec(i[1]),r=o.dec(t[s].substring(i[1].length+1))}catch(a){m(a)}else n=o.dec(t[s]),r=n;if(n==="B"||n==="BX"||n==="TT"||w.ywa&&n==="fpc"+w.ywa.project_id||n==="fpc"||n==="ywandp"||n.indexOf("ywadp")===0||n==="D")this.cookieMap[n]=r}}}function b(){if(!w.ult_token_capture||YAHOO.i13n.__handled_ult_tokens__===!0)return;YAHOO.i13n.__handled_ult_tokens__=!0;var e=window.document.location+"";if(e.match(/;_yl[a-z]{1}=/))w.ldbg&&g("Found ULT Token on URL."),E.sendGeoT(e);else{var t=new y,n=t.getCookieByName("D");n&&(o.clearCookie("D","/",".yahoo.com"),E.sendGeoT(n))}}function T(){return Math.floor((new Date).valueOf()/1e3)}function N(e,t,n){var r=new Date,i="";r.setTime(r.getTime()+n*1e3),i="; expires="+r.toGMTString();var s=e+"="+t+i+"; path=/";document.cookie=s}function C(){return""+Math.floor(Math.random()*4294967295)}function k(e){var t,n=[];for(t in e)(t,e[t])&&n.push(t+":"+e[t]);return encodeURIComponent(n.join(";"))}function L(e,t){e=e||"";var n=decodeURIComponent(e).split(";"),r={};for(i=0,excl=n.length;i<excl;i++){var s=n[i].split(":");r[s[0]]=s[1]}return t?r[t]:r}function A(){function t(e){var t="cf";return e<10&&(""+e).charAt(0)!=="0"?t+="0"+e:t+=e,t}function r(){if(typeof window.ITTs=="undefined"||!o.isArr(window.ITTs)||window.ITTs.length===0)window.ITTs=[{}];if(window.ITTs[0].setFPCookies)return;window.ITTs[0].setFPCookies=function(){var e="fpc",t=new y,n=L(t.getCookieByName(e));n[w.ywa.project_id]=window.ITTs[0].FPCV,N(e,k(n),31536e3);var r=t.getCookieByName(e+w.ywa.project_id);r&&o.clearCookie(e+w.ywa.project_id)}}function i(e,t,n,r){w.ldbg&&g(e);var i=new Image,s=null;i.onload=i.onabort=i.onerror=function(){t&&n?t[n]=1:r&&(clearTimeout(s),r.call(null))},i.src=e,r&&(s=setTimeout(function(){r.call(null)},w.click_timeout)),setTimeout(function(){i=null},1e5)}function s(e,t){for(var n in e){if(!o.hasOwn(e,n))continue;var r=w.ywa_cf_override[n];r&&(t[r]=e[n])}}function u(e,n,i,u,a,f,l
){function c(e,t){var n=t?"%3B":";";return e+(i?n+e:"")}var h=new y,p=h.getYWAFPC();h.getYWADPID(),u=u||{},e!=="c"&&r();var d=[o.curProto(),w.ywa.host||"a.analytics.yahoo.com","/fpc.pl?"],v=w.ywa.project_id,g=w.ywa.document_group,b={};w.test_id&&(b[14]=w.test_id);var E=["_cb="+o.rand(),".ys="+w.spaceid,"a="+v,"b="+o.enc(w.ywa.document_name||document.title),"d="+o.enc(new Date),"f="+o.enc(window.location.href),"j="+o.sr("x"),"k="+o.cold(),"t="+T(),"l=true"];if(l)for(var S in l)o.hasOwn(l,S)&&E.push(S+"="+o.enc(l[S]));g&&g!==""&&E.push("c="+o.enc(g)),w.ywa_dpid&&E.push("dpid="+w.ywa_dpid);if(e==="c"){u.x=12;var x="12";i&&(x=o.enc(x+";"+i)),E.splice(0,0,"x="+x)}else e==="e"&&E.push("x="+n+(i?";"+i:""));p&&E.push("fpc="+o.enc(p));var N=w.ywa.member_id;N&&E.push("m="+N),w.getReferrer()!==""&&E.push("e="+o.enc(w.getReferrer()));var C={};o.aug(C,M().getAll()),o.aug(C,f),s(C,b),o.hasOwn(C,"A_apv")&&(b[15]=C.A_apv),e==="e"&&a&&s(a,b);var k=w.ywa.cf;o.aug(b,k,function(e){return!o.isResCF(e)});for(var L in b)o.hasOwn(b,L)&&E.push(t(L)+"="+c(o.enc(b[L]),1));(e==="e"||e==="c")&&E.push("ca=1"),e!=="p"&&E.push("resp=img");if(e==="c")for(var A in u){if(!o.hasOwn(u,A))continue;if(A!=="x"){var O=u[A];try{O=o.enc(c(O)),o.isSafari&&(O=O.replace(/'/g,"%27"))}catch(_){m(_)}E.push(t(A)+"="+O)}}return d.join("")+E.join("&")}function f(){return"rapid_if_"+o.rand()}function l(e){var t="display:none;";!o.isIE||o.ieV!==6&&o.ieV!==7&&o.ieV!==8?o.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function c(e){var t=null;if(o.isIE&&o.ieV<=8){var n="";o.isSecure()&&o.ieV==6&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement("iframe");return t.name=e,t}function h(){setTimeout(function(){var e=c("");o.addEvent(e,"load",function(){o.rmBodyEl(e)}),o.appBodyEl(e)},1)}function p(e,t){var n=null,r=o.make("form"),i=o.make("input"),s=f(),u=f(),a="application/x-www-form-urlencoded;charset=UTF-8";n=c(s),l(n),l(r),r.id=u,r.method="POST",r.action=d(t),r.target=s,o.isIE&&o.ieV<=7?r.setAttribute("enctype",a):(r.setAttribute("enctype",a),r.setAttribute("encoding",a)),i.name="q",i.value=e,o.isIE&&o.ieV>=10&&(i.type="submit"),r.appendChild(i);var p="load",v=function(){var e="";if(w.ldbg&&(!o.isIE||o.ieV>=9)){var t=n.contentDocument||n.contentWindow.document;e=t.body.innerHTML}o.rmEvent(n,p,v),setTimeout(function(){o.rmBodyEl(n),o.rmBodyEl(r)},0),w.ldbg&&g("iframe resp: "+e),o.isIE&&o.ieV<=7&&h()};o.addEvent(n,p,v),o.appBodyEl(n),o.appBodyEl(r),r.submit()}function d(e){var t=w.deb,n=o.rand(),r=[o.curProto(),w.yql_host,w.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",w.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||w.ldbg?"&debug=true&diagnostics=true":"",o.isIE&&o.ieV?"&yhlUA=ie"+o.ieV:"",o.isIE&&o.ieV==8?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",w.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,w.gen_bcookie?"&yhlBcookie=1":""].join("");return w.ldbg&&g(r),r}function b(e,t){var n=o.getXHR(),r=d(t);n.open("POST",r,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),w.ldbg&&(n.onreadystatechange=function(){n.readyState===4&&g(n.status+":xhr response: "+n.responseText)}),n.send(e)}function S(e,t,n){var r={};return o.isObj(e)?(o.aug(r,e,n),r):r}function x(e,t){var n={m:o.norm(e.moduleName),l:[]};e.moduleYLK&&(n.ylk=e.moduleYLK.getAll());var r=e.links,i=function(e){var n=e==="_p";return t&&n?!0:e!=="sec"&&!n};for(var s=0,u=r.length;s<u;s++)n.l.push(S(r[s],t,i));return n}function C(e,t){var n=[],r=null;for(var i in e){if(!o.hasOwn(e,i))continue;r=e[i];if(!r)continue;var s=x(r,t);s.l.length>0?n.push(s):w.ldbg&&g('Not capturing 0 links mod: "'+r.moduleName+'"')}return n}function A(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function O(e,t,n,r,i){return[{t:A(t,i),s:w.spaceid,pp:M(t,r).getAll(),_ts:T(),lv:C(e,n)}]}function M(e,t){var r=n.makeFromPP(w.keys);return r.absorb(t),e&&r.set("A_",1),r}function _(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?o.enc(r):r)}function D(e){var t={bp:E(),r:e.call(0),yrid:w.yrid,optout:w.oo,nol:w.nol};return o.toJSON(t)}function P(e,t,n){var r={};n.event&&o.aug(r,n.event.data),n.pp&&o.aug(r,n.pp);var i=D(function(){return O([e],t,!0,r,n)});F(i,t)}function H(e,t,n,r){var i=D(function(){return O(e,t,!1,n,r)});F(i)}function B(e){return e.identifier}function F(e){function n(e,n){n===0&&(e=e.replace(/'/g,"\\'")),t&&g("body: "+e),o.hasCORS()?(r=_(e,!0,!0),b(r,n)):(r=_(e,0,0),p(r,n))}var t=w.ldbg,r="",i=a[w.compr_type];if(w.compr_on&&o.hasWorkers()&&i>1&&e.length>2048){t&&g("Looking for worker:"+w.webworker_file+", compr timeout:"+w.compr_timeout);var s=new Worker(w.webworker_file),u=!1,f=null,l=0;function c(){u||(u=!0,n(e,0),t&&g("sent in failSend"))}s.onerror=function(e){clearTimeout(f),c(),v(e.message),s.terminate()},s.onmessage=function(r){clearTimeout(f);var a=o.tms();u||(u=!0,n(r.data,i)),t&&g("Ratio ("+r.data.length+"/"+e.length+"): "+(r.data.length*100/e.length).toFixed(2)+"% -> C_T: "+(a-l)+" ms ("+a+"-"+l+")"),s.terminate()},t&&g("posting to worker: "+e),l=o.tms(),s.postMessage({type:i,json:e}),f=setTimeout(function(){c(),s.terminate()},w.compr_timeout)}else n(e,0)}function I(t,n,r){return o.curProto()+e+"/"+t+["?s="+(r?r:w.spaceid),"t="+o.rand()+","+Math.random(),"_I="+w.yrid,"_AO="+w.oo,"_NOL="+w.nol,"_R="+o.enc(w.getReferrer()),(t==="c"?"_K=":"_P=")+q(n)].join("&")}function q(e){var t=new n(E(!1));return t.absorb(w.keys.getAll()),t.set("_ts",T()),e&&(e instanceof n?t.absorb(e.getAll()):m("Internal error in buildGeoPP: not PP type")),w.version+"%05"+t.ser()}function R(e){var t=[I("c")+"&_C="+o.ser(e.data)];return t.join("&")}function U(e,t){var n=e[t];return n&&o.isNum(n)&&n>=0?n:null}function z(e){var t=o.getAttribute(e,o.DATA_ACTION),n=o.getAttribute(e,o.data_action_outcome);return t!==null?U(w.ywa_action_map,t):n!==null?U(w.ywa_outcome_map,n):null}var e=YAHOO.i13n.beacon_server||"geo.yahoo.com",E=function(
e){var t={_pl:1,A_v:w.version},n=w.getReferrer();return n&&e!==!1&&(t._R=n.substring(0,o.MAX_VALUE_LENGTH)),w.test_id&&(t.test=w.test_id),w.ex&&(t._ex=1),t._bt||(t._bt="rapid"),t},j=function(){var e=null,t=[],n=0,r=w.addmod_timeout;return function(i,s,u,a){clearTimeout(e);var f=+(new Date)-n;t=o.uniqConcat(t,i,B);if(f>r)n=+(new Date),H(t,s,u,a),t=[];else{var l=r-f;e=setTimeout(function(){w.ldbg&&g("queueing send in addMods"),H(t,s,u,a),t=[]},l)}}}();return{sendGeoT:function(t){var n=[o.curProto(),e,"/t?",t].join("");i(n)},sendGeoPV:function(){i(I("b"))},sendRapidNoDelay:function(e,t,r,s,o){if(!w.yql_enabled||o){var u=null;r&&(u=new n(r)),i(I(t?"b":"p",u))}else H(e,t,r,s)},sendRapid:function(e,t,n,r){j(e,t,n,r)},sendRefreshedContent:P,sendYWAEvent:function(e){var t=null,n=null,r=e.name;w.ywa_action_map&&r&&(t=U(w.ywa_action_map,r));if(t===null)return;w.ywa_outcome_map&&e.outcome&&(n=U(w.ywa_outcome_map,e.outcome)),i(u("e",t,n,null,e.data))},sendULTEvent:function(e,t){var r={};e&&e.data&&(r=e.data);var s=I("p",new n(r),t||0);e.type&&(s+="&_V="+e.type.spaceidPrefix),i(s)},sendDwell:function(e){this.sendULTEvent(e,e.data.s)},sendEvents:function(e){w.USE_RAPID&&this.sendULTEvent(e),w.ywa&&this.sendYWAEvent(e)},sendClick:function(e){var t=null,n="",r="",a=null,f=!1,l=null;w.USE_RAPID&&(n=R(e));if(w.ywa){var c=e.data,h=e.targetElement,p={18:c.sec,19:c.slk,20:c._p};"A_cl"in c&&(p[130]=c.A_cl),h?a=z(h):a=U(w.ywa_outcome_map,e.outcome),w.ywa_cf_override&&s(c,p),r=u("c",0,a,p)}if(w.async_all_clicks||!e.synch){n&&i(n),r&&i(r);return}o.prevDef(e.event),t=function(){if(f)return;f=!0;var t=e.targetElement.href;if(w.click_postmsg.origin){var n=w.click_postmsg.window||top,r=w.click_postmsg.payload||{};r.href=t,n.postMessage(o.toJSON(r),w.click_postmsg.origin)}else e.hasTargetTop?top.document.location=t:document.location=t};if(w.USE_RAPID)if(w.ywa){var d=new Image,v=new Image,m=0;d.onload=d.onerror=d.onabort=v.onload=v.onerror=v.onabort=function(){++m===2&&(clearTimeout(l),t())},d.src=n,v.src=r,l=setTimeout(t,w.click_timeout),setTimeout(function(){d=null,v=null},1e5)}else i(n,0,0,t);else w.ywa&&i(r,0,0,t)},sendYWAPV:function(e){function s(){n[0].removeChild(i)}var t=u("p",0,0,0,0,e),n=document.getElementsByTagName("head"),r="true";if(n.length===0)return;var i=o.make("script",{defer:r,async:r,type:"text/javascript",src:t});o.isIE?i.onreadystatechange=function(){var e=this.readyState;if("loaded"===e||"complete"===e)i.onload=i.onreadystatechange=null,s()}:o.isWebkit?i.addEventListener("load",s):i.onload=s,n[0].appendChild(i)},sendInternalSearch:function(e,t){e=e||"",o.isNum(t)||(t=0);var n={isk:e,isr:t},r=u("e","INTERNAL_SEARCH",null,null,null,null,n);i(r)},sendYWAECommerce:function(e,t){var n={},r={PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1},s={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(!(e in r)){m("invalid YWA ecommerce action: "+e);return}for(var a in t)if(o.hasOwn(t,a)&&a in s){var f=s[a];n[f]=t[a]}e==="SALE"&&(e=1);var l=u("e",e,null,null,null,null,n);i(l)}}}function O(e){return e!=="sec"&&e!=="slk"&&e!=="_p"}function M(e,t,n,r,i,s){var u="",a=null,l={sec:t,_p:n};return s?(l.slk=i||"section",a=f(r)):(r.setAttribute(w.anc_pos_attr,n),u=o.getLT(r,e),u&&u!==""?a=f(r):u="_ELINK_",l.slk=u),a!==null&&o.aug(l,a.getAll()),l}function _(){var e={};return{addModule:function(t,n){e[o.norm(t)]=n},addModules:function(e){var t=o.isArr(e),n=[];t||o.isStr(e)&&(e=new Array(e),t=!0);for(var r in e){if(!o.hasOwn(e,r))continue;var i=t?e[r]:r,s=o.trim(e[r]);if(!this.exists(i)){var u=U(s,i);u&&(this.addModule(i,u),n.push(u))}else m('addModules() called with prev processed id:"'+i+'"')}return n},getModules:function(){return e},refreshModule:function(t,n,r,i){var s=e[o.norm(t)];s?s.refreshModule(t,n,r,i):m("refreshModule called on unknown section: "+s)},removeModule:function(t){var n=e[o.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)o.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[o.norm(t)]}}}function D(e,t){return o.hasClass(e,"rapid_track_href")?"href":o.hasClass(e,"rapid_track_text")?"text":o.hasClass(e,"rapid_track_title")?"title":o.hasClass(e,"rapid_track_id")?"id":t}function P(e){return e.nodeName.toLowerCase()==="input"&&o.getAttribute(e,"type")==="submit"}function H(e,t){var n=F(e,t);x=n,n&&E.sendClick(n)}function B(e,t,n){var r=o.getAttribute;return t.target&&t.target.toLowerCase()==="_blank"||e.which===2||e.button===4||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||r(t,"data-nofollow")==="on"||r(t,"href")&&r(t,"href").substr(0,11).toLowerCase()==="javascript:"||o.hasClass(t,w.nofollow_classname)||o.hasClass(n,w.nofollow_classname)}function j(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function F(e,t){e=e||event;var n=o.getTarget(e),r="button",i="input",s="",u=!1,a=null;while(n&&(s=n.nodeName.toLowerCase())&&s!=="a"&&s!==r&&!P(n)&&!o.hasClass(n,w.nonanchor_track_class))n=n.parentNode;if(!n||o.hasClass(n,w.no_click_listen))return 0;if(o.hasClass(n,w.nonanchor_track_class)){a={pos:0,sec:t.moduleName,slk:"_"};var l=f(n,1);l&&o.aug(a,l.getAll())}else{var c=o.getAttribute(n,w.anc_pos_attr);a=t.getLinkAtPos(c);if(!a)return 0;s!==i&&s!==r&&!B(e,n,t.moduleElement)&&(u=!0)}if(!a.tar){var h=o.getAttribute(n,"href");h&&(a.tar=o.extDomain(h));if(!h||!a.tar)a.tar=o.extDomain(window.document.location+"")}a.tar_uri||(n.pathname?a.tar_uri=n.pathname.substring(0,o.MAX_VALUE_LENGTH):a.tar_uri="");var p=t.moduleYLK;if(p){var d=p.getAll();o.aug(a,d,function(e){return!(e in a)})}return a.A_xy=o.xy(e),a.A_sr=o.sr(),e.type=="contextmenu"&&(a.A_cl=3,u=!1),{data:a,event:e,moduleElement:t.moduleElement,targetElement:n,synch:u,hasTargetTop:n&&n.target&&n.target.toLowerCase()==="_top"}}function I(e,t,n,r,i){var s={};return o.aug(s,r),s.sec=e,s.slk=t,s._p=n,{data:s,outcome:i,event:null,moduleElement
:null,targetElement:null,synch:!1,hasTargetTop:!1}}function q(e,t,n){t||(t=document);var r=e.split(","),i=[];for(var s=0,o=r.length;s<o;s++){var u=t.getElementsByTagName(r[s]);for(var a=0,f=u.length;a<f;a++){var l=u[a];if(n&&!n.call(0,l))continue;i.push(l)}}var c=i[0];return c?(c.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&i.sort(function(e,t){return 3-(e.compareDocumentPosition(t)&6)}),i):[]}function R(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var s=t.childNodes;if(o.getAttribute(t,w.skip_attr)!=="true")for(var u=0,a=s.length;u<a;u++){var f=s[u];o.isTagOfInterest(f,i)&&(!r||r.call(0,f))&&n.push(f),o.getAttribute(f,w.skip_attr)!=="true"?R(e,f,n,r):o.getAttribute(f,w.skip_attr)==="true"&&n.push(f)}var l=n[0];return l?(l.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):l.compareDocumentPosition&&n.sort(function(e,t){return 3-(e.compareDocumentPosition(t)&6)}),n):[]}function U(e,t){function h(t,r){var u=[];r=r||1;for(var l=0,c=t.length;l<c;l++)if(t[l].tagName.toLowerCase()==="div"){var h=t[l],p=f(h),d=M(a,e,1,h,p.map.slk||i.map.slk,!0);s.push(d),u.push(d)}else{var d=M(a,e,r++,t[l]);s.push(d),u.push(d)}if(o.getAttribute(n,w.skip_attr)==="true"){var d=M(a,e,1,h,i.map.slk,!0);s.push(d),u.push(d)}return u}var n=document.getElementById(t),r="a,button,input";if(!n)return v("Specified module not in DOM: "+t),null;var i=f(n),s=[],u=w.parse_dom?R(r,n):q(r,n),a=D(n,w.lt_attr),l=u.length,c=o.getAttribute(n,w.track_type);h(u);var p={moduleYLK:i,links:s,moduleName:e,trackType:c,moduleElement:n,refreshModule:function(e,t,n,i){function s(e){return!o.getAttribute(e,w.anc_pos_attr)}var u=w.parse_dom?R(r,document.getElementById(e),null,s):q(r,document.getElementById(e),s);if(t===!0||u.length>0){var a=h(u,l+1);l+=u.length;if(w.USE_RAPID||i.event){var f={};o.aug(f,this),f.links=a,(t===!0||n)&&E.sendRefreshedContent(f,t,i)}}else o.ldbg&&g("refreshModule("+e+") - no new links.");t===!0&&(w.ywa&&E.sendYWAPV(i.pp),w.apv&&S&&S.reInit())},removeHandlers:function(){o.rmEvent(n,"click",d),w.track_right_click&&o.rmEvent(n,"contextmenu",d)},getLinkAtPos:function(e){return e>s.length?null:s[e-1]},identifier:t},d=function(e){H(e,p)};return o.addEvent(n,"click",d),w.track_right_click&&o.addEvent(n,"contextmenu",d),p}function z(e,t,r){w.ldbg&&g("beaconPageview called, pp="+o.fData(e)),t&&!w.persist_asid&&p(),w.USE_RAPID&&E.sendRapidNoDelay([],!0,e,null,r);if(w.ywa){var i=n.makeFromPP(w.keys);i.absorb(e),E.sendYWAPV(i.getAll())}w.apv&&S!=null&&S.reInit()}function W(){var e=null,t=function(){var e=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},n=lastApvTime=(new Date).getTime(),r=t(),i=-1,s=function(){var e=t(),n=i===-1?e-r:e-i,s=n>0?0:1;if(Math.abs(n)>w.apv_px){var o={A_apv:1,A_apx:e,A_asd:s};z(o,!1,!0),i=e,lastApvTime=(new Date).getTime()}},u=function(i){e!=null&&clearTimeout(e);var o=(new Date).getTime();o-n<w.apv_time&&(r=t(),lastApvTime=o),e=setTimeout(function(){s()},w.apv_time)};o.addEvent(window,"scroll",u),this.reInit=function(){r=t(),i=-1,n=lastApvTime=(new Date).getTime()},this.destroy=function(){o.rmEvent(window,"scroll",u)}}function X(){b(),w.ldbg&&g("tracked_mods: "+o.fData(w.tracked_mods));var e=u.addModules(w.tracked_mods);w.USE_RAPID&&w.pageview_on_init&&E.sendRapidNoDelay(e,w.client_only==1),w.ywa&&w.pageview_on_init&&E.sendYWAPV(),w.apv&&o.executeOnLoad(function(){S=new W})}function V(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,s=t.match(/(iPhone|iPad|iPod)/ig)!==null,u=t.indexOf("android")>-1,a=s&&t.match(/AppleWebKit/)!==null,f=t.match(/AppleWebKit/)!==null&&t.match(/Chrome/)===null,l=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),c=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),h="http://",p="https://",d="class",g=" ",y=300,b=-1,w=window.location.protocol==="https:";return r&&(navigator.appVersion.match(/MSIE/)?b=parseFloat(navigator.appVersion.split("MSIE")[1]):b=parseFloat(navigator.appVersion.split("; rv:")[1])),{ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:a,isSafari:f,isWebkit:i,ieV:b,MAX_VALUE_LENGTH:y,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,curProto:function(){return w?p:h},isSecure:function(){return w},strip:function(e){var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;while(e.indexOf("_yl",r)!==-1){var i=e.indexOf("_yl",r);r<i&&(n.clean+=e.slice(r,i-1)),r=i+3;if(t[e.charAt(i-1)]&&e.charAt(i+4)==="="){n.ult=1;var s="_yl"+e.charAt(i+3),o="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)o+=e.charAt(i);n.keys.push(s),n[s]=o,s!=="_ylv"&&(n.cookie+="&"+s+"="+o),t[e.charAt(i)]&&t[e.charAt(i)]==="P"&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),n._ylv==="0"),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function t(){var t=!1,n=e.length;for(var r=0;r<n;r++){try{t=e[r]()}catch(i){continue}break}return t}var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return t()},hasLS:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}},hasCORS:function(){return r&&b<10?!1:"withCredentials"in new XMLHttpRequest?!0
:typeof XDomainRequest!="undefined"?!0:!1},hasWorkers:function(){return!!window.Worker},clearCookie:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function s(e){for(var t=0,s=e.length;t<s;t++){var o=e[t];if(!o)continue;var u=n(o);i[u]||(i[u]=1,r.push(o))}}var r=[],i={};return s(e),s(t),r},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return!document.documentElement.hasAttribute&&t===d&&(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return n.toString.call(e)==="[object Date]"},isArr:function(e){return n.toString.apply(e)==="[object Array]"},isStr:function(e){return typeof e=="string"},isNum:function(e){return typeof e=="number"&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&typeof e=="object"},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){m(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(!t)return;for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===h?e.substr(7,e.length):e.substr(0,8)===p?e.substr(8,e.length):e:""},norm:function(e){return e===null?"":(e=""+e,this.trim(e.replace(c," ").replace(l,"")))},_hasClass:function(e,t){var n=!1,r;return e&&t&&(r=this.getAttribute(e,d)||"",t.exec?n=t.test(r):n=t&&(g+r+g).indexOf(g+t+g)>-1),n},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;n<r;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var s=e.replace(t,function(e){var t=n[e];return typeof t=="string"?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+s+r}return i+e+i},sfy:function(e){if(!e&&e!=="")return{};var t,n=typeof e;if(n==="undefined")return"undefined";if(n==="number"||n==="boolean")return""+e;if(n==="string")return this.quote(e);if(typeof e.toJSON=="function")return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),u=e.getUTCMinutes(),a=e.getUTCSeconds(),f=e.getUTCMilliseconds();return r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),u<10&&(u="0"+u),a<10&&(a="0"+a),f<100&&(f="0"+f),f<10&&(f="0"+f),'"'+s+"-"+r+"-"+i+"T"+o+":"+u+":"+a+"."+f+'Z"'}t=[];if(this.isArr(e)){for(var l=0,c=e.length;l<c;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if(n==="object"){for(var h in e)if(this.hasOwn(e,h)){var p=typeof h,d=null;if(p==="string")d=this.quote(h);else{if(p!=="number")continue;d='"'+h+'"'}p=typeof e[h];if(p!=="function"&&p!=="undefined"){var v="";e[h]===null?v='""':e[h]===0?v=0:v=this.sfy(e[h]),t.push(d+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e=typeof JSON=="object"&&JSON.stringify&&b!==6&&b!==7&&b!==8?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){if(document.addEventListener||n&&n.type==="load"||document.readyState==="complete")t=!0,r(),e.call(this)},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if(document.readyState==="complete")setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=window.frameElement==null&&document.documentElement}catch(s){}i&&i.doScroll&&function o(){if(!t){try{i.doScroll("left")}catch(n){return setTimeout(o,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t=0,n="",r;(r=e.childNodes[t])&&r;t++)r.nodeType===1&&(r.nodeName.toLowerCase()==="img"&&(n+=(this.getAttribute(r,"alt")||"")+" "),n+=this.getLinkContent(r));return n},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),e.nodeName.toLowerCase()==="input"?n=this.getAttribute(e,"value"):t==="text"?i?n=e.textContent:n=e.innerText?e.innerText:e.textContent:t==="href"?n=this.rmProto(this.getAttribute(e,"href")):n=this.getAttribute(e,t)||"",n=this.norm(n),n===""&&(n=this.norm(this.getLinkContent(e)),n||(n=this.norm(this.rmProto(this.getAttribute(e,"href"))))),n===""?"_":n},clref:function(e){if(e.indexOf(h)!==0&&e.indexOf(p)!==0)return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,s=e.pageY;return r&&(n=t()),!i&&0!==i&&(i=e.clientX||0,r&&(i+=n[1])),!s&&0!==s&&(s=e.clientY||0,r&&(s+=n[0])),i+","+s},hasCC:function(e){for(var t=0,n=e.length;t<n;t++){var r=e.charCodeAt(t);if(r<32||r==="=")return!0}return!1},isValidPair:function(e,t){return e.length>8||t.length>o.MAX_VALUE_LENGTH?(v("Invalid key/value pair ("+e+"="+t+") Size must be < 8/300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";typeof t===undefined&&(t=!0);var n=[],r="";for(var i in e)if(this.hasOwn(e,i)){var s=i,u=e[i];if(s===null||u===
null)continue;s+="",u+="",u.length>o.MAX_VALUE_LENGTH&&(u=u.substring(0,o.MAX_VALUE_LENGTH));if(!this.isValidPair(s,u))continue;if(!this.hasCC(s)&&!this.hasCC(u)){r="",u=this.trim(u),(u===""||u===" ")&&t&&(u="_");try{r=this.enc(s+""+u),o.isSafari&&(r=r.replace(/'/g,"%27"))}catch(a){r="_ERR_ENCODE_",m(a)}n.push(r)}}return n.join(this.cd)},rand:function(){var e=0,t="",n="";while(e++<16){var r=Math.floor(Math.random()*62);r<10?n=r:n=String.fromCharCode(r<36?r+55:r+61),t+=n}return t},tms:function(){return+(new Date)},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return typeof navigator.cookieEnabled=="undefined"&&!e&&(document.cookie=t+"=1",e=document.cookie.indexOf("testcookie")!=-1?!0:!1,document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1}}}if(typeof console=="undefined"||typeof console.log=="undefined")console={log:function(){}};typeof console.error=="undefined"&&(console.error=console.log),typeof console.warn=="undefined"&&(console.warn=console.log),t.prototype={ser:function(){return o.ser(this.map)},set:function(e,t){var n=t?o.norm(t):t;if(n===undefined||n===null)n="";n!==null&&o.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),n.length>o.MAX_VALUE_LENGTH&&(n=n.substring(0,o.MAX_VALUE_LENGTH)),o.isValidPair(e,n)&&(this.map[o.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(!e||!o.isObj(e))return;for(var t in e)o.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(!e||!o.isObj(e))return;for(var n in e){if(t&&!t.call(null,n))continue;o.hasOwn(e,n)&&this.set(n,e[n])}},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var s=new n,o=V(e),u=new _,a={none:0,gzip:1,lzw:2,deflate:3};y.prototype={getYWAFPC:function(){if(!w.ywa)return null;var e=this.cookieMap["fpc"+w.ywa.project_id],t=this.cookieMap.fpc,n=L(t),r=null;t&&(r=n[w.ywa.project_id]);if(e){o.clearCookie("fpc"+w.ywa.project_id);if(!r){n[w.ywa.project_id]=e;var i=k(n);N("fpc",i,31536e4),r=e}}return r?r:null},getCookieByName:function(e){return this.cookieMap[e]},getYWADPID:function(){if(w.ywa){var e="ywandp",t="ywadp"+w.ywa.project_id,n=L(this.cookieMap[e]),r,i=n[w.ywa.project_id];if(i===undefined||i===null||i===""){r=this.cookieMap[t],r?n[w.ywa.project_id]=r:n[w.ywa.project_id]=C(),i=n[w.ywa.project_id];var s=k(n);N(e,s,31536e4),this.cookieMap[e]=s}w.ywa_dpid=i}}};var w=h(e),E=A(),S=null,x=null;return X(),{init:function(){},beaconEvent:function(e,t,n){w.ldbg&&g('beaconEvent: event="'+e+'" data='+o.fData(t)+" outcome="+n);var r=j(0,e,t,n);E.sendEvents(r)},beaconRichView:function(e,t){w.ldbg&&g("beaconRichView: outcome="+t);var n=j("richview","",e,t);E.sendEvents(n)},beaconClick:function(e,t,n,r,i){!r&&i&&(r={}),i&&(r.outcm=i),E.sendClick(I(e,t,n,r,i))},addModules:function(e,t,n){w.ldbg&&g("addModules() called: mods="+o.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&o.aug(r,n.pp);var i=!1;t||(t=!1);switch(t){case 1:case"1":case!0:t=!0;break;case 2:case"2":i=!0,t=!1,n.event=j("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!w.yql_enabled){t?z(r,!1):n.event&&this.beaconRichView(r,n.event.outcome);return}n&&n.event&&t&&(m("Cannot track event type and pageview at same time."),n.event=null);var s=u.addModules(e);if(s.length===0&&!n.event)return;if(w.USE_RAPID||n.event)t||n.event||n.pp?(n.event&&n.event.data&&o.aug(r,n.event.data),E.sendRapidNoDelay(s,t,r,n)):E.sendRapid(s,t,r,n);t===!0&&(w.ywa&&E.sendYWAPV(r),w.apv&&S&&S.reInit())},addModulesAsRichView:function(e,t){var n=j("richview","",{},t),r=!0;this.addModules(e,!1,{event:n}),w.yql_enabled||(r=!1),w.ywa&&r&&E.sendYWAEvent(n)},refreshModule:function(e,t,n,r){w.ldbg&&g("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+o.fData(r));var i=!1;r=r||{},t||(t=!1);switch(t){case 1:case"1":case!0:t=!0;break;case 2:case"2":i=!0,t=!1,r.event=j("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!w.yql_enabled){var s=r.pp||{};t?z(s,!1):r.event&&this.beaconRichView(s,r.event.outcome);return}var a=n===!1?!1:!0;t&&r&&r.event&&(r.event=null),u.refreshModule(e,t,a,r)},refreshModuleAsRichView:function(e,t){var n=j("richview","",{},t),r=!0;this.refreshModule(e,!1,!0,{event:n}),w.yql_enabled||(r=!1),w.ywa&&r&&E.sendYWAEvent(n)},removeModule:function(e){u.removeModule(e)},isModuleTracked:function(e){return w.ldbg&&g("isTracked called: "+e),u&&u.exists(e)!==undefined},destroy:function(){g("destroy called"),u.destroy(),S!==null&&(S.destroy(),S=null)},reInit:function(e){w.ldbg&&g("reInit called with: "+o.fData(e)),e=e||{};if(!e.spaceid){m("Invalid spid in reInit config: "+o.fData(e));return}s=new n,w=h(e),o=V(e)},beaconPageview:function(e){z(e,!0)},beaconECommerce:function(e,t){w.ywa&&E.sendYWAECommerce(e,t)},beaconInternalSearch:function(e,t){w.ywa&&E.sendInternalSearch(e,t)},getCurrentSID:function(){return s.get("A_sid")},notifyHistoryPushStateCalled:function(){browserEventManager.historyStateChanged()},beaconLinkViews:function(e,t,n){w.ldbg&&g("beaconLinkViews() called: eventType: "+u),n=n||{};var i={A_lv:2};n.pp&&o.aug(i,n.pp);var s=!1,u=!1;switch(t){case 1:case"1":case!0:u=!0;break;case 2:case"2":s=!0,u=!1,n.event=j("contentmodification","",{});break;case 0:case"0":case!1:default:u=!1}if(!w.yql_enabled){u?z(i,!1):n.event&&this.beaconRichView(i,n.event.outcome);return}n&&n.event&&u&&(m("Cannot track event type and pageview at same time."),n.event=null);if(e.length===0&&!n.event)return;var a=[];e.forEach(function(e){var t=new r;t.absorb_filter(e,function(e){return e!="sec"&&e!="_links"});var n=[],i=1;e._links.forEach(function(t){var r={sec:e.sec,_p:i++};o.aug(r,t),n.push(r)});var s={moduleName:e.sec
,moduleYLK:t,links:n};a.push(s)});if(w.USE_RAPID||n.event)u||n.event||n.pp?(n.event&&n.event.data&&o.aug(i,n.event.data),E.sendRapidNoDelay(a,u,i,n)):E.sendRapid(a,u,i,n)}}},YUI.add("rapid",function(e,t){var n,r=-1,i={debug:!1,trackedElements:["content"],ywa_project_id:0x91890968dbf,ywa_host:"y3.analytics.yahoo.com"},s={intl:1,buckets:2,loggedIn:4,slice:5,joindate:6,vwrOwner:7,dimensns:24,type:28,density:29,count:30,fullScrn:8,context:9,campaign:10,groupUsr:11,unused2:12,unused3:16,bkPhtCnt:17,vespaRnk:21,unused4:22,unused5:23};e.rapidTracker={ok:!1,_queuedEvents:[],init:function(t){var i,s,o;if(e.rapidTracker.ok)return;try{n=new YAHOO.i13n.Rapid(t),n.init(),e.mix(this,n);for(i=0,s=this._queuedEvents.length;i<s;i++)o=this._queuedEvents.shift(),o.eventType==="beaconClick"&&this.beaconClick(o.view,o.action,r,o.keys,o.outcome);e.rapidTracker.ok=!0}catch(u){e.rapidTracker.ok=!1}},destroy:function(){e.rapidTracker.ok&&(n.destroy(),e.rapidTracker.ok=!1)},getConf:function(t,n,r){var o,u,a="",f=e.Cookie.get("flcp"),l=f&&f.substring(0,2)==="j:"?JSON.parse(f.substring(2)):{},c=["search_page","groups_page","zoom"];return r=r||{},r.trackedElements=r.trackedElements||[],o=e.merge(i,t.get("rapidConf")||{},r),o.trackedElements=i.trackedElements.concat(t.get("trackedElementIDs"),r.trackedElements),YAHOO.i13n.YWA_CF_MAP=e.merge(s,t.get("rapidKeys")||{}),n.buckets&&(a=Object.keys(n.buckets).reduce(function(e,t){return c.indexOf(t)!==-1?e+t+":"+n.buckets[t]+",":e},"").slice(0,-1),a.length>300&&(n.warn("Rapid bucket data exceeded the 300 character limit."),a=a.substr(0,300))),u=e.merge({pageType:t.name,intl:"en-us",bx:n.getCookie("BX"),buckets:a,loggedIn:n.getViewer().signedIn?1:0,slice:n.slice,campaign:Object.keys(l).join(","),groupUsr:n.auth&&n.auth.activeGroupMembership?1:0,density:window.devicePixelRatio||1,dimensns:"innerWidth"in window?window.innerWidth+"x"+window.innerHeight:"unknown"},t.getTrackingSegments()),new e.Promise(function(e,r){var i=n.getViewer(),s;s={debug:o.debug,spaceid:t.get("spaceid"),client_only:o.client_only||1,compr_on:!1,tracked_mods:o.trackedElements,async_all_clicks:!0,lt_attr:"data-track",keys:u,ywa:{project_id:o.ywa_project_id,host:o.ywa_host,document_name:t.name}},o.ex&&(s.ex=!0),typeof o.oo!="undefined"&&(s.oo=o.oo),i.signedIn?n.getModel("person-models",i.nsid).then(function(t){s.keys.joindate=t.getValue("dateCreated").format("YYYY-MM-DD"),e(s)}):e(s)})},beacon:function(e,t,i,s){i=i||{},s=s||"",n?n.beaconClick(e,t,r,i,s):this._queuedEvents.push({eventType:"beaconClick",view:e,action:t,keys:i,outcome:s})},refreshTracker:function(){n&&e.rapidTracker.ok&&n.refreshModule(i.trackedElements[0],!1,!1,{})}}},"@VERSION@",{affinity:"client"});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-mousewheel",function(e,t){var n="DOMMouseScroll",r=function(t){var r=e.Array(t,0,!0),i;return e.UA.gecko?(r[0]=n,i=e.config.win):i=e.config.doc,r.length<3?r[2]=i:r.splice(2,0,i),r};e.Env.evt.plugins.mousewheel={on:function(){return e.Event._attach(r(arguments))},detach:function(){return e.Event.detach.apply(e.Event,r(arguments))}}},"3.16.0",{requires:["node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-mouseenter",function(e,t){var n=e.Env.evt.dom_wrappers,r=e.DOM.contains,i=e.Array,s=function(){},o={proxyType:"mouseover",relProperty:"fromElement",_notify:function(t,i,s){var o=this._node,u=t.relatedTarget||t[i];o!==u&&!r(o,u)&&s.fire(new e.DOMEventFacade(t,o,n["event:"+e.stamp(o)+t.type]))},on:function(t,n,r){var i=e.Node.getDOMNode(t),s=[this.proxyType,this._notify,i,null,this.relProperty,r];n.handle=e.Event._attach(s,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,i){var o=e.Node.getDOMNode(t),u=[this.proxyType,s,o,null,r];n.handle=e.Event._attach(u,{facade:!1}),n.handle.sub.filter=i,n.handle.sub.relProperty=this.relProperty,n.handle.sub._notify=this._filterNotify},_filterNotify:function(t,n,s){n=n.slice(),this.args&&n.push.apply(n,this.args);var o=e.delegate._applyFilter(this.filter,n,s),u=n[0].relatedTarget||n[0][this.relProperty],a,f,l,c,h;if(o){o=i(o);for(f=0,l=o.length&&(!a||!a.stopped);f<l;++f){h=o[0];if(!r(h,u)){a||(a=new e.DOMEventFacade(n[0],h,s),a.container=e.one(s.el)),a.currentTarget=e.one(h),c=n[1].fire(a);if(c===!1)break}}}return c},detachDelegate:function(e,t){t.handle.detach()}};e.Event.define("mouseenter",o,!0),e.Event.define("mouseleave",e.merge(o,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-key",function(e,t){var n="+alt",r="+ctrl",i="+meta",s="+shift",o=e.Lang.trim,u={KEY_MAP:{enter:13,space:32,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(t){var n=t.splice(3,1)[0],r=e.Array.hash(n.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),i={type:this._typeRE.test(n)?RegExp.$1:null,mods:r,keys:null},s=n.replace(this._keysRE,""),u,a,f,l;if(s){s=s.split(","),i.keys={};for(l=s.length-1;l>=0;--l){u=o(s[l]);if(!u)continue;+u==u?i.keys[u]=r:(f=u.toLowerCase(),this.KEY_MAP[f]?(i.keys[this.KEY_MAP[f]]=r,i.type||(i.type="down")):(u=u.charAt(0),a=u.toUpperCase(),r["+shift"]&&(u=a),i.keys[u.charCodeAt(0)]=u===a?e.merge(r,{"+shift":!0}):r))}}return i.type||(i.type="press"),i},on:function(e,t,o,u){var a=t._extra,f="key"+a.type,l=a.keys,c=u?"delegate":"on";t._detach=e[c](f,function(e){var t=l?l[e.which]:a.mods;t&&(!t[n]||t[n]&&e.altKey)&&(!t[r]||t[r]&&e.ctrlKey)&&(!t[i]||t[i]&&e.metaKey)&&(!t[s]||t[s]&&e.shiftKey)&&o.fire(e)},u)},detach:function(e,t,n){t._detach.detach()}};u.delegate=u.on,u.detachDelegate=u.detach,e.Event.define("key",u,!0)},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-focus",function(e,t){function u(t,r,u){var a="_"+t+"Notifiers";e.Event.define(t,{_useActivate:o,_attach:function(i,s,o){return e.DOM.isWindow(i)?n._attach([t,function(e){s.fire(e)},i]):n._attach([r,this._proxy,i,this,s,o],{capture:!0})},_proxy:function(t,r,i){var s=t.target,f=t.currentTarget,l=s.getData(a),c=e.stamp(f._node),h=o||s!==f,p;r.currentTarget=i?s:f,r.container=i?f:null,l?h=!0:(l={},s.setData(a,l),h&&(p=n._attach([u,this._notify,s._node]).sub,p.once=!0)),l[c]||(l[c]=[]),l[c].push(r),h||this._notify(t)},_notify:function(t,n){var r=t.currentTarget,i=r.getData(a),o=r.ancestors(),u=r.get("ownerDocument"),f=[],l=i?e.Object.keys(i).length:0,c,h,p,d,v,m,g,y,b,w;r.clearData(a),o.push(r),u&&o.unshift(u),o._nodes.reverse(),l&&(m=l,o.some(function(t){var n=e.stamp(t),r=i[n],s,o;if(r){l--;for(s=0,o=r.length;s<o;++s)r[s].handle.sub.filter&&f.push(r[s])}return!l}),l=m);while(l&&(c=o.shift())){d=e.stamp(c),h=i[d];if(h){for(g=0,y=h.length;g<y;++g){p=h[g],b=p.handle.sub,v=!0,t.currentTarget=c,b.filter&&(v=b.filter.apply(c,[c,t].concat(b.args||[])),f.splice(s(f,p),1)),v&&(t.container=p.container,w=p.fire(t));if(w===!1||t.stopped===2)break}delete h[d],l--}if(t.stopped!==2)for(g=0,y=f.length;g<y;++g){p=f[g],b=p.handle.sub,b.filter.apply(c,[c,t].concat(b.args||[]))&&(t.container=p.container,t.currentTarget=c,w=p.fire(t));if(w===!1||t.stopped===2||t.stopped&&f[g+1]&&f[g+1].container!==p.container)break}if(t.stopped)break}},on:function(e,t,n){t.handle=this._attach(e._node,n)},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,s){i(s)&&(n.filter=function(n){return e.Selector.test(n._node,s,t===n?null:t._node)}),n.handle=this._attach(t._node,r,!0)},detachDelegate:function(e,t){t.handle.detach()}},!0)}var n=e.Event,r=e.Lang,i=r.isString,s=e.Array.indexOf,o=function(){var t=!1,n=e.config.doc,r;return n&&(r=n.createElement("p"),r.setAttribute("onbeforeactivate",";"),t=r.onbeforeactivate!==undefined),t}();o?(u("focus","beforeactivate","focusin"),u("blur","beforedeactivate","focusout")):(u("focus","focus","focus"),u("blur","blur","blur"))},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-resize",function(e,t){e.Event.define("windowresize",{on:e.UA.gecko&&e.UA.gecko<1.91?function(t,n,r){n._handle=e.Event.attach("resize",function(e){r.fire(e)})}:function(t,n,r){var i=e.config.windowResizeDelay||100;n._handle=e.Event.attach("resize",function(t){n._timer&&n._timer.cancel(),n._timer=e.later(i,e,function(){r.fire(t)})})},detach:function(e,t){t._timer&&t._timer.cancel(),t._handle.detach()}})},"3.16.0",{requires:["node-base","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-hover",function(e,t){var n=e.Lang.isFunction,r=function(){},i={processArgs:function(e){var t=n(e[2])?2:3;return n(e[t])?e.splice(t,1)[0]:r},on:function(e,t,n,r){var i=t.args?t.args.slice():[];i.unshift(null),t._detach=e[r?"delegate":"on"]({mouseenter:function(e){e.phase="over",n.fire(e)},mouseleave:function(e){var n=t.context||this;i[0]=e,e.type="hover",e.phase="out",t._extra.apply(n,i)}},r)},detach:function(e,t,n){t._detach.detach()}};i.delegate=i.on,i.detachDelegate=i.detach,e.Event.define("hover",i)},"3.16.0",{requires:["event-mouseenter"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-outside",function(e,t){var n=["blur","change","click","dblclick","focus","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","select","submit"];e.Event.defineOutside=function(t,n){n=n||t+"outside";var r={on:function(n,r,i){r.handle=e.one("doc").on(t,function(e){this.isOutside(n,e.target)&&(e.currentTarget=n,i.fire(e))},this)},detach:function(e,t,n){t.handle.detach()},delegate:function(n,r,i,s){r.handle=e.one("doc").delegate(t,function(e){this.isOutside(n,e.target)&&i.fire(e)},s,this)},isOutside:function(e,t){return t!==e&&!t.ancestor(function(t){return t===e})}};r.detachDelegate=r.detach,e.Event.define(n,r)},e.Array.each(n,function(t){e.Event.defineOutside(t)})},"3.16.0",{requires:["event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start=["touchstart","mousedown"],o.end=["touchend","mouseup"],o.move=["touchmove","mousemove"],o.cancel=["touchcancel","mousecancel"]):s&&s.PointerEvent?(o.start="pointerdown",o.end="pointerup",o.move="pointermove",o.cancel="pointercancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"3.16.0",{requires:["node-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-move",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="move",o="end",u="gesture"+s,a=u+o,f=u+i,l="_msh",c="_mh",h="_meh",p="_dmsh",d="_dmh",v="_dmeh",m="_ms",g="_m",y="minTime",b="minDistance",w="preventDefault",E="button",S="ownerDocument",x="currentTarget",T="target",N="nodeType",C=e.config.win&&"msPointerEnabled"in e.config.win.navigator,k="msTouchActionCount",L="msInitTouchAction",A=function(t,n,r){var i=r?4:3,s=n.length>i?e.merge(n.splice(i,1)[0]):{};return w in s||(s[w]=t.PREVENT_DEFAULT),s},O=function(e,t){return t._extra.root||e.get(N)===9?e:e.get(S)},M=function(t){var n=t.getDOMNode();return t.compareTo(e.config.doc)&&n.documentElement?n.documentElement:!1},_=function(e,t,n){e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY,e[T]=e[T]||t[T],e[x]=e[x]||t[x],e[E]=n&&n[E]||1},D=function(t){var n=M(t)||t.getDOMNode(),r=t.getData(k);C&&(r||(r=0,t.setData(L,n.style.msTouchAction)),n.style.msTouchAction=e.Event._DEFAULT_TOUCH_ACTION,r++,t.setData(k,r))},P=function(e){var t=M(e)||e.getDOMNode(),n=e.getData(k),r=e.getData(L);C&&(n--,e.setData(k,n),n===0&&t.style.msTouchAction!==r&&(t.style.msTouchAction=r))},H=function(e,t){t&&(!t.call||t(e))&&e.preventDefault()},B=e.Event.define;e.Event._DEFAULT_TOUCH_ACTION="none",B(f,{on:function(e,t,n){D(e),t[l]=e.on(r[i],this._onStart,this,e,t,n)},delegate:function(e,t,n,s){var o=this;t[p]=e.delegate(r[i],function(r){o._onStart(r,e,t,n,!0)},s)},detachDelegate:function(e,t,n,r){var i=t[p];i&&(i.detach(),t[p]=null),P(e)},detach:function(e,t,n){var r=t[l];r&&(r.detach(),t[l]=null),P(e)},processArgs:function(e,t){var n=A(this,e,t);return y in n||(n[y]=this.MIN_TIME),b in n||(n[b]=this.MIN_DISTANCE),n},_onStart:function(t,n,i,u,a){a&&(n=t[x]);var f=i._extra,l=!0,c=f[y],h=f[b],p=f.button,d=f[w],v=O(n,i),m;t.touches?t.touches.length===1?_(t,t.touches[0],f):l=!1:l=p===undefined||p===t.button,l&&(H(t,d),c===0||h===0?this._start(t,n,u,f):(m=[t.pageX,t.pageY],c>0&&(f._ht=e.later(c,this,this._start,[t,n,u,f]),f._hme=v.on(r[o],e.bind(function(){this._cancel(f)},this))),h>0&&(f._hm=v.on(r[s],e.bind(function(e){(Math.abs(e.pageX-m[0])>h||Math.abs(e.pageY-m[1])>h)&&this._start(t,n,u,f)},this)))))},_cancel:function(e){e._ht&&(e._ht.cancel(),e._ht=null),e._hme&&(e._hme.detach(),e._hme=null),e._hm&&(e._hm.detach(),e._hm=null)},_start:function(e,t,n,r){r&&this._cancel(r),e.type=f,t.setData(m,e),n.fire(e)},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1}),B(u,{on:function(e,t,n){D(e);var i=O(e,t,r[s]),o=i.on(r[s],this._onMove,this,e,t,n);t[c]=o},delegate:function(e,t,n,i){var o=this;t[d]=e.delegate(r[s],function(r){o._onMove(r,e,t,n,!0)},i)},detach:function(e,t,n){var r=t[c];r&&(r.detach(),t[c]=null),P(e)},detachDelegate:function(e,t,n,r){var i=t[d];i&&(i.detach(),t[d]=null),P(e)},processArgs:function(e,t){return A(this,e,t)},_onMove:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(m),o=n._extra.preventDefault;s&&(e.touches&&(e.touches.length===1?_(e,e.touches[0]):s=!1),s&&(H(e,o),e.type=u,r.fire(e)))},PREVENT_DEFAULT:!1}),B(a,{on:function(e,t,n){D(e);var i=O(e,t),s=i.on(r[o],this._onEnd,this,e,t,n);t[h]=s},delegate:function(e,t,n,i){var s=this;t[v]=e.delegate(r[o],function(r){s._onEnd(r,e,t,n,!0)},i)},detachDelegate:function(e,t,n,r){var i=t[v];i&&(i.detach(),t[v]=null),P(e)},detach:function(e,t,n){var r=t[h];r&&(r.detach(),t[h]=null),P(e)},processArgs:function(e,t){return A(this,e,t)},_onEnd:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(g)||t.getData(m),o=n._extra.preventDefault;s&&(e.changedTouches&&(e.changedTouches.length===1?_(e,e.changedTouches[0]):s=!1),s&&(H(e,o),e.type=a,r.fire(e),t.clearData(m),t.clearData(g)))},PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-flick",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="end",o="move",u="ownerDocument",a="minVelocity",f="minDistance",l="preventDefault",c="_fs",h="_fsh",p="_feh",d="_fmh",v="nodeType";e.Event.define("flick",{on:function(e,t,n){var s=e.on(r[i],this._onStart,this,e,t,n);t[h]=s},detach:function(e,t,n){var r=t[h],i=t[p];r&&(r.detach(),t[h]=null),i&&(i.detach(),t[p]=null)},processArgs:function(t){var n=t.length>3?e.merge(t.splice(3,1)[0]):{};return a in n||(n[a]=this.MIN_VELOCITY),f in n||(n[f]=this.MIN_DISTANCE),l in n||(n[l]=this.PREVENT_DEFAULT),n},_onStart:function(t,n,i,a){var f=!0,l,h,m,g=i._extra.preventDefault,y=t;t.touches&&(f=t.touches.length===1,t=t.touches[0]),f&&(g&&(!g.call||g(t))&&y.preventDefault(),t.flick={time:(new Date).getTime()},i[c]=t,l=i[p],m=n.get(v)===9?n:n.get(u),l||(l=m.on(r[s],e.bind(this._onEnd,this),null,n,i,a),i[p]=l),i[d]=m.once(r[o],e.bind(this._onMove,this),null,n,i,a))},_onMove:function(e,t,n,r){var i=n[c];i&&i.flick&&(i.flick.time=(new Date).getTime())},_onEnd:function(e,t,n,r){var i=(new Date).getTime(),s=n[c],o=!!s,u=e,h,p,v,m,g,y,b,w,E=n[d];E&&(E.detach(),delete n[d]),o&&(e.changedTouches&&(e.changedTouches.length===1&&e.touches.length===0?u=e.changedTouches[0]:o=!1),o&&(m=n._extra,v=m[l],v&&(!v.call||v(e))&&e.preventDefault(),h=s.flick.time,i=(new Date).getTime(),p=i-h,g=[u.pageX-s.pageX,u.pageY-s.pageY],m.axis?w=m.axis:w=Math.abs(g[0])>=Math.abs(g[1])?"x":"y",y=g[w==="x"?0:1],b=p!==0?y/p:0,isFinite(b)&&Math.abs(y)>=m[f]&&Math.abs(b)>=m[a]&&(e.type="flick",e.flick={time:p,distance:y,velocity:b,axis:w,start:s},r.fire(e)),n[c]=null))},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-valuechange",function(e,t){var n="_valuechange",r="value",i="nodeName",s,o={POLL_INTERVAL:50,TIMEOUT:1e4,_poll:function(t,r){var i=t._node,s=r.e,u=t._data&&t._data[n],a=0,f,l,c,h,p,d;if(!i||!u){o._stopPolling(t);return}l=u.prevVal,h=u.nodeName,u.isEditable?c=i.innerHTML:h==="input"||h==="textarea"?c=i.value:h==="select"&&(p=i.options[i.selectedIndex],c=p.value||p.text),c!==l&&(u.prevVal=c,f={_event:s,currentTarget:s&&s.currentTarget||t,newVal:c,prevVal:l,target:s&&s.target||t},e.Object.some(u.notifiers,function(e){var t=e.handle.evt,n;a!==1?e.fire(f):t.el===d&&e.fire(f),n=t&&t._facade?t._facade.stopped:0,n>a&&(a=n,a===1&&(d=t.el));if(a===2)return!0}),o._refreshTimeout(t))},_refreshTimeout:function(e,t){if(!e._node)return;var r=e.getData(n);o._stopTimeout(e),r.timeout=setTimeout(function(){o._stopPolling(e,t)},o.TIMEOUT)},_startPolling:function(t,s,u){var a,f;if(!t.test("input,textarea,select")&&!(f=o._isEditable(t)))return;a=t.getData(n),a||(a={nodeName:t.get(i).toLowerCase(),isEditable:f,prevVal:f?t.getDOMNode().innerHTML:t.get(r)},t.setData(n,a)),a.notifiers||(a.notifiers={});if(a.interval){if(!u.force){a.notifiers[e.stamp(s)]=s;return}o._stopPolling(t,s)}a.notifiers[e.stamp(s)]=s,a.interval=setInterval(function(){o._poll(t,u)},o.POLL_INTERVAL),o._refreshTimeout(t,s)},_stopPolling:function(t,r){if(!t._node)return;var i=t.getData(n)||{};clearInterval(i.interval),delete i.interval,o._stopTimeout(t),r?i.notifiers&&delete i.notifiers[e.stamp(r)]:i.notifiers={}},_stopTimeout:function(e){var t=e.getData(n)||{};clearTimeout(t.timeout),delete t.timeout},_isEditable:function(e){var t=e._node;return t.contentEditable==="true"||t.contentEditable===""},_onBlur:function(e,t){o._stopPolling(e.currentTarget,t)},_onFocus:function(e,t){var s=e.currentTarget,u=s.getData(n);u||(u={isEditable:o._isEditable(s),nodeName:s.get(i).toLowerCase()},s.setData(n,u)),u.prevVal=u.isEditable?s.getDOMNode().innerHTML:s.get(r),o._startPolling(s,t,{e:e})},_onKeyDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onKeyUp:function(e,t){(e.charCode===229||e.charCode===197)&&o._startPolling(e.currentTarget,t,{e:e,force:!0})},_onMouseDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onSubscribe:function(t,s,u,a){var f,l,c,h,p;l={blur:o._onBlur,focus:o._onFocus,keydown:o._onKeyDown,keyup:o._onKeyUp,mousedown:o._onMouseDown},f=u._valuechange={};if(a)f.delegated=!0,f.getNodes=function(){return h=t.all("input,textarea,select").filter(a),p=t.all('[contenteditable="true"],[contenteditable=""]').filter(a),h.concat(p)},f.getNodes().each(function(e){e.getData(n)||e.setData(n,{nodeName:e.get(i).toLowerCase(),isEditable:o._isEditable(e),prevVal:c?e.getDOMNode().innerHTML:e.get(r)})}),u._handles=e.delegate(l,t,a,null,u);else{c=o._isEditable(t);if(!t.test("input,textarea,select")&&!c)return;t.getData(n)||t.setData(n,{nodeName:t.get(i).toLowerCase(),isEditable:c,prevVal:c?t.getDOMNode().innerHTML:t.get(r)}),u._handles=t.on(l,null,null,u)}},_onUnsubscribe:function(e,t,n){var r=n._valuechange;n._handles&&n._handles.detach(),r.delegated?r.getNodes().each(function(e){o._stopPolling(e,n)}):o._stopPolling(e,n)}};s={detach:o._onUnsubscribe,on:o._onSubscribe,delegate:o._onSubscribe,detachDelegate:o._onUnsubscribe,publishConfig:{emitFacade:!0}},e.Event.define("valuechange",s),e.Event.define("valueChange",s),e.ValueChange=o},"3.16.0",{requires:["event-focus","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-tap",function(e,t){function a(t,n){n=n||e.Object.values(u),e.Array.each(n,function(e){var n=t[e];n&&(n.detach(),t[e]=null)})}var n=e.config.doc,r=e.Event._GESTURE_MAP,i=r.start,s="tap",o=/pointer/i,u={START:"Y_TAP_ON_START_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};e.Event.define(s,{publishConfig:{preventedFn:function(e){var t=e.target.once("click",function(e){e.preventDefault()});setTimeout(function(){t.detach()},100)}},processArgs:function(e,t){if(!t){var n=e[3];return e.splice(3,1),n}},on:function(e,t,n){t[u.START]=e.on(i,this._start,this,e,t,n)},detach:function(e,t,n){a(t)},delegate:function(t,n,r,s){n[u.START]=e.delegate(i,function(e){this._start(e,t,n,r,!0)},t,s,this)},detachDelegate:function(e,t,n){a(t)},_start:function(e,t,n,i,s){var a={canceled:!1,eventType:e.type},f=n.preventMouse||!1;if(e.button&&e.button===3)return;if(e.touches&&e.touches.length!==1)return;a.node=s?e.currentTarget:t,e.touches?a.startXY=[e.touches[0].pageX,e.touches[0].pageY]:a.startXY=[e.pageX,e.pageY],e.touches?(n[u.END]=t.once("touchend",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("touchcancel",this.detach,this,t,n,i,s,a),n.preventMouse=!0):a.eventType.indexOf("mouse")!==-1&&!f?(n[u.END]=t.once("mouseup",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("mousecancel",this.detach,this,t,n,i,s,a)):a.eventType.indexOf("mouse")!==-1&&f?n.preventMouse=!1:o.test(a.eventType)&&(n[u.END]=t.once(r.end,this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once(r.cancel,this.detach,this,t,n,i,s,a))},_end:function(e,t,n,r,i,o){var f=o.startXY,l,c,h=15;n._extra&&n._extra.sensitivity>=0&&(h=n._extra.sensitivity),e.changedTouches?(l=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],c=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]):(l=[e.pageX,e.pageY],c=[e.clientX,e.clientY]),Math.abs(l[0]-f[0])<=h&&Math.abs(l[1]-f[1])<=h&&(e.type=s,e.pageX=l[0],e.pageY=l[1],e.clientX=c[0],e.clientY=c[1],e.currentTarget=o.node,r.fire(e)),a(n,[u.END,u.CANCEL])}})},"3.16.0",{requires:["node-base","event-base","event-touch","event-synthetic"]});
YUI.add("better-throttle",function(e){"use strict";function t(t,n,r,i){function u(){o&&(o.cancel(),o=undefined)}function a(){u(),t.apply(r,arguments)}function f(){var t=(new Date).getTime();if(i)u();else if(t-s>n){s=t,a.apply(r,arguments);return}o||(o=e.later(n,r,a,arguments))}var s,o;return s=0,r=r||null,f}e.betterThrottle=t},"@VERSION@",{requires:["yui-later"]});
YUI.add("global-events",function(e){"use strict";function r(r,i){var s=t[r],o;if(s)return s.bound||(s.throttle?s.handle=e.one(s.target).on(s.type,e.betterThrottle(function(t){e.fire(r,{e:t})},s.throttle)):s.handle=e.one(s.target).on(s.type,function(t){e.fire(r,{e:t})}),n[r]=[],s.bound=!0),o=e.on(r,i),o.origDetach=o.detach,o.detach=function(){this.detach=this.origDetach,delete this.origDetach,e.globalEvents.unsubscribe(this)}.bind(o),n[r].push(o),o;throw"global event name: '"+r+"' does not exist"}function i(e){var r=e.evt.type,i=n[r].indexOf(e);e.origDetach&&(e.detach=e.origDetach),i!==-1&&(e.detach(),n[r].splice(i,1),n[r].length===0&&(t[r].handle.detach(),t[r].bound=!1))}var t={"window:click":{type:"click",target:window},"window:resize":{type:"resize",target:window,throttle:100},"window:scroll":{type:"scroll",target:window,throttle:100}},n={};e.globalEvents={subscribe:r,unsubscribe:i}},"@VERSION@",{requires:["event","node","better-throttle"],affinity:"client"});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-parse-simple",function(e,t){var n=e.namespace("QueryString");n.parse=function(e,t,r){t=t||"&",r=r||"=";for(var i={},s=0,o=e.split(t),u=o.length,a;s<u;s++)a=o[s].split(r),a.length>0&&(i[n.unescape(a.shift())]=n.unescape(a.join(r)));return i},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.16.0",{requires:["yui-base"]});
YUI.add("storage-helper",function(e){e.StorageHelper={setItem:function(t,n,r){var i=r?"sessionStorage":"localStorage";if(e.config.win&&e.config.win[i])try{e.config.win[i][t]=n}catch(s){}},getItem:function(t,n){var r=n?"sessionStorage":"localStorage",i;if(e.config.win&&e.config.win[r])try{i=e.config.win[r][t]}catch(s){}return i},remove:function(t,n){var r=n?"sessionStorage":"localStorage";if(e.config.win&&e.config.win[r])try{e.config.win[r].removeItem(t)}catch(i){}},hasEntries:function(t,n){var r=n?"sessionStorage":"localStorage",i=!1;if(e.config.win&&e.config.win[r])try{i=typeof e.config.win[r][t]!="undefined"}catch(s){}return i}},e.Storage={Instance:{_cache:{},_hasSessionStorage:!0,_clientIdKey:"",getClientIdKey:function(){return this._clientIdKey||(this._clientIdKey=e.config.win.appContext.clientId+"_"),this._clientIdKey},get:function(t){var n,r;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?r=e.config.win.sessionStorage.getItem(n):r=this._cache[n]}catch(i){this._hasSessionStorage=!1}return r},set:function(t,n){var r;try{t&&(r=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.setItem(r,n):this._cache[r]=n)}catch(i){this._cache[r]=n,this._hasSessionStorage=!1}},has:function(t){var n=!1,r;try{r=this.getClientIdKey()+t,this._hasSessionStorage?n=!!e.config.win.sessionStorage.getItem(r):n=!!this._cache[r]}catch(i){this._hasSessionStorage=!1}return n},remove:function(t){var n;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.removeItem(n):this._cache[n]=undefined}catch(r){this._hasSessionStorage=!1}},clear:function(){this.clearByKey(this.getClientIdKey())},clearByKey:function(t){var n,r,i,s=[];try{if(t)if(this._hasSessionStorage){for(n=0,i=e.config.win.sessionStorage.length;n<i;n++)r=e.config.win.sessionStorage.key(n),r&&r.indexOf(t)===0&&s.push(r);for(n=0,i=s.length;n<i;n++)e.config.win.sessionStorage.removeItem(s[n])}else{e.Object.each(this._cache,function(e,n){n.indexOf(t)===0&&s.push(n)});for(n=0,i=s.length;n<i;n++)this._cache[s[n]]=undefined}}catch(o){this._hasSessionStorage=!1}}}}},"@VERSION@",{requires:["url"]});
